import pad from './pad';
function createNativeLocaleFormatter(locale, options, substrOptions = { start: 0, length: 0 }) {
    const makeIsoString = (dateString) => {
        const [year, month, date] = dateString.trim().split(' ')[0].split('-');
        return [pad(year, 4), pad(month || 1), pad(date || 1)].join('-');
    };
    try {
        const intlFormatter = new Intl.DateTimeFormat(locale || undefined, options);
        return (dateString) => intlFormatter.format(new Date(`${makeIsoString(dateString)}T00:00:00+00:00`));
    }
    catch (e) {
        return (substrOptions.start || substrOptions.length)
            ? (dateString) => makeIsoString(dateString).substr(substrOptions.start || 0, substrOptions.length)
            : undefined;
    }
}
export default createNativeLocaleFormatter;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlTmF0aXZlTG9jYWxlRm9ybWF0dGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvdXRpbC9jcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxHQUFHLE1BQU0sT0FBTyxDQUFBO0FBb0J2QixTQUFTLDJCQUEyQixDQUNsQyxNQUEwQixFQUMxQixPQUFtQyxFQUNuQyxnQkFBK0IsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUU7SUFFdEQsTUFBTSxhQUFhLEdBQUcsQ0FBQyxVQUFrQixFQUFFLEVBQUU7UUFDM0MsTUFBTSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDdEUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ2xFLENBQUMsQ0FBQTtJQUVELElBQUk7UUFDRixNQUFNLGFBQWEsR0FBRyxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxJQUFJLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQTtRQUMzRSxPQUFPLENBQUMsVUFBa0IsRUFBRSxFQUFFLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQyxHQUFHLGFBQWEsQ0FBQyxVQUFVLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFBO0tBQzdHO0lBQUMsT0FBTyxDQUFDLEVBQUU7UUFDVixPQUFPLENBQUMsYUFBYSxDQUFDLEtBQUssSUFBSSxhQUFhLENBQUMsTUFBTSxDQUFDO1lBQ2xELENBQUMsQ0FBQyxDQUFDLFVBQWtCLEVBQUUsRUFBRSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLEtBQUssSUFBSSxDQUFDLEVBQUUsYUFBYSxDQUFDLE1BQU0sQ0FBQztZQUMxRyxDQUFDLENBQUMsU0FBUyxDQUFBO0tBQ2Q7QUFDSCxDQUFDO0FBRUQsZUFBZSwyQkFBMkIsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYWQgZnJvbSAnLi9wYWQnXHJcblxyXG5pbnRlcmZhY2UgU3Vic3RyT3B0aW9ucyB7XHJcbiAgc3RhcnQ/OiBudW1iZXJcclxuICBsZW5ndGg6IG51bWJlclxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBEYXRlUGlja2VyRm9ybWF0dGVyID0gKGRhdGU6IHN0cmluZykgPT4gc3RyaW5nXHJcblxyXG5mdW5jdGlvbiBjcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXIgKFxyXG4gIGxvY2FsOiBzdHJpbmcgfCB1bmRlZmluZWQsXHJcbiAgb3B0aW9uczogSW50bC5EYXRlVGltZUZvcm1hdE9wdGlvbnNcclxuKTogRGF0ZVBpY2tlckZvcm1hdHRlciB8IHVuZGVmaW5lZFxyXG5cclxuZnVuY3Rpb24gY3JlYXRlTmF0aXZlTG9jYWxlRm9ybWF0dGVyIChcclxuICBsb2NhbDogc3RyaW5nIHwgdW5kZWZpbmVkLFxyXG4gIG9wdGlvbnM6IEludGwuRGF0ZVRpbWVGb3JtYXRPcHRpb25zLFxyXG4gIHN1YnN0ck9wdGlvbnM6IFN1YnN0ck9wdGlvbnNcclxuKTogRGF0ZVBpY2tlckZvcm1hdHRlclxyXG5cclxuZnVuY3Rpb24gY3JlYXRlTmF0aXZlTG9jYWxlRm9ybWF0dGVyIChcclxuICBsb2NhbGU6IHN0cmluZyB8IHVuZGVmaW5lZCxcclxuICBvcHRpb25zOiBJbnRsLkRhdGVUaW1lRm9ybWF0T3B0aW9ucyxcclxuICBzdWJzdHJPcHRpb25zOiBTdWJzdHJPcHRpb25zID0geyBzdGFydDogMCwgbGVuZ3RoOiAwIH1cclxuKTogRGF0ZVBpY2tlckZvcm1hdHRlciB8IHVuZGVmaW5lZCB7XHJcbiAgY29uc3QgbWFrZUlzb1N0cmluZyA9IChkYXRlU3RyaW5nOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IFt5ZWFyLCBtb250aCwgZGF0ZV0gPSBkYXRlU3RyaW5nLnRyaW0oKS5zcGxpdCgnICcpWzBdLnNwbGl0KCctJylcclxuICAgIHJldHVybiBbcGFkKHllYXIsIDQpLCBwYWQobW9udGggfHwgMSksIHBhZChkYXRlIHx8IDEpXS5qb2luKCctJylcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBpbnRsRm9ybWF0dGVyID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQobG9jYWxlIHx8IHVuZGVmaW5lZCwgb3B0aW9ucylcclxuICAgIHJldHVybiAoZGF0ZVN0cmluZzogc3RyaW5nKSA9PiBpbnRsRm9ybWF0dGVyLmZvcm1hdChuZXcgRGF0ZShgJHttYWtlSXNvU3RyaW5nKGRhdGVTdHJpbmcpfVQwMDowMDowMCswMDowMGApKVxyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiAoc3Vic3RyT3B0aW9ucy5zdGFydCB8fCBzdWJzdHJPcHRpb25zLmxlbmd0aClcclxuICAgICAgPyAoZGF0ZVN0cmluZzogc3RyaW5nKSA9PiBtYWtlSXNvU3RyaW5nKGRhdGVTdHJpbmcpLnN1YnN0cihzdWJzdHJPcHRpb25zLnN0YXJ0IHx8IDAsIHN1YnN0ck9wdGlvbnMubGVuZ3RoKVxyXG4gICAgICA6IHVuZGVmaW5lZFxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlTmF0aXZlTG9jYWxlRm9ybWF0dGVyXHJcbiJdfQ==