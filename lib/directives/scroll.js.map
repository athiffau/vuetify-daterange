{"version":3,"sources":["../../src/directives/scroll.ts"],"names":[],"mappings":"AASA,SAAS,QAAT,CAAmB,EAAnB,EAAoC,OAApC,EAAiE;AAC/D,QAAM,WAAW,QAAQ,KAAzB;AACA,QAAM,UAAU,QAAQ,OAAR,IAAmB,EAAE,SAAS,IAAX,EAAnC;AACA,QAAM,SAAS,QAAQ,GAAR,GAAc,SAAS,aAAT,CAAuB,QAAQ,GAA/B,CAAd,GAAoD,MAAnE;AACA,QAAI,CAAC,MAAL,EAAa;AAEb,WAAO,gBAAP,CAAwB,QAAxB,EAAkC,QAAlC,EAA4C,OAA5C;AAEA,OAAG,SAAH,GAAe;AACb,0BADa;AAEb,wBAFa;AAGb;AAHa,KAAf;AAKD;AAED,SAAS,MAAT,CAAiB,EAAjB,EAAgC;AAC9B,QAAI,CAAC,GAAG,SAAR,EAAmB;AADW,wBAGQ,GAAG,SAHX;AAAA,QAGtB,QAHsB,iBAGtB,QAHsB;AAAA,QAGZ,OAHY,iBAGZ,OAHY;AAAA,QAGH,MAHG,iBAGH,MAHG;;AAK9B,WAAO,mBAAP,CAA2B,QAA3B,EAAqC,QAArC,EAA+C,OAA/C;AACA,WAAO,GAAG,SAAV;AACD;AAED,eAAe;AACb,sBADa;AAEb;AAFa,CAAf","sourcesContent":["import { VNodeDirective } from 'vue/types/vnode'\r\nimport { DirectiveOptions } from 'vue'\r\n\r\ninterface ScrollVNodeDirective extends VNodeDirective {\r\n  arg: string\r\n  value: EventListenerOrEventListenerObject\r\n  options?: boolean | AddEventListenerOptions\r\n}\r\n\r\nfunction inserted (el: HTMLElement, binding: ScrollVNodeDirective) {\r\n  const callback = binding.value\r\n  const options = binding.options || { passive: true }\r\n  const target = binding.arg ? document.querySelector(binding.arg) : window\r\n  if (!target) return\r\n\r\n  target.addEventListener('scroll', callback, options)\r\n\r\n  el._onScroll = {\r\n    callback,\r\n    options,\r\n    target\r\n  }\r\n}\r\n\r\nfunction unbind (el: HTMLElement) {\r\n  if (!el._onScroll) return\r\n\r\n  const { callback, options, target } = el._onScroll\r\n\r\n  target.removeEventListener('scroll', callback, options)\r\n  delete el._onScroll\r\n}\r\n\r\nexport default {\r\n  inserted,\r\n  unbind\r\n} as DirectiveOptions\r\n"],"sourceRoot":""}