{"version":3,"sources":["../../src/mixins/selectable.js"],"names":[],"mappings":"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","sourcesContent":["// Components\r\nimport VInput from '../components/VInput'\r\n\r\n// Mixins\r\nimport Rippleable from './rippleable'\r\nimport Comparable from './comparable'\r\n\r\n/* @vue/component */\r\nexport default VInput.extend({\r\n  name: 'selectable',\r\n\r\n  mixins: [Rippleable, Comparable],\r\n\r\n  model: {\r\n    prop: 'inputValue',\r\n    event: 'change'\r\n  },\r\n\r\n  props: {\r\n    color: {\r\n      type: String,\r\n      default: 'accent'\r\n    },\r\n    id: String,\r\n    inputValue: null,\r\n    falseValue: null,\r\n    trueValue: null,\r\n    multiple: {\r\n      type: Boolean,\r\n      default: null\r\n    },\r\n    label: String\r\n  },\r\n\r\n  data: vm => ({\r\n    lazyValue: vm.inputValue\r\n  }),\r\n\r\n  computed: {\r\n    computedColor () {\r\n      return this.isActive ? this.color : this.validationState\r\n    },\r\n    isMultiple () {\r\n      return this.multiple === true || (this.multiple === null && Array.isArray(this.internalValue))\r\n    },\r\n    isActive () {\r\n      const value = this.value\r\n      const input = this.internalValue\r\n\r\n      if (this.isMultiple) {\r\n        if (!Array.isArray(input)) return false\r\n\r\n        return input.some(item => this.valueComparator(item, value))\r\n      }\r\n\r\n      if (this.trueValue === undefined || this.falseValue === undefined) {\r\n        return value\r\n          ? this.valueComparator(value, input)\r\n          : Boolean(input)\r\n      }\r\n\r\n      return this.valueComparator(input, this.trueValue)\r\n    },\r\n    isDirty () {\r\n      return this.isActive\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    inputValue (val) {\r\n      this.lazyValue = val\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    genLabel () {\r\n      if (!this.hasLabel) return null\r\n\r\n      const label = VInput.options.methods.genLabel.call(this)\r\n\r\n      label.data.on = { click: this.onChange }\r\n\r\n      return label\r\n    },\r\n    genInput (type, attrs) {\r\n      return this.$createElement('input', {\r\n        attrs: Object.assign({\r\n          'aria-label': this.label,\r\n          'aria-checked': this.isActive.toString(),\r\n          disabled: this.isDisabled,\r\n          id: this.id,\r\n          role: type,\r\n          type\r\n        }, attrs),\r\n        domProps: {\r\n          value: this.value,\r\n          checked: this.isActive\r\n        },\r\n        on: {\r\n          blur: this.onBlur,\r\n          change: this.onChange,\r\n          focus: this.onFocus,\r\n          keydown: this.onKeydown\r\n        },\r\n        ref: 'input'\r\n      })\r\n    },\r\n    onBlur () {\r\n      this.isFocused = false\r\n    },\r\n    onChange () {\r\n      if (this.isDisabled) return\r\n\r\n      const value = this.value\r\n      let input = this.internalValue\r\n\r\n      if (this.isMultiple) {\r\n        if (!Array.isArray(input)) {\r\n          input = []\r\n        }\r\n\r\n        const length = input.length\r\n\r\n        input = input.filter(item => !this.valueComparator(item, value))\r\n\r\n        if (input.length === length) {\r\n          input.push(value)\r\n        }\r\n      } else if (this.trueValue !== undefined && this.falseValue !== undefined) {\r\n        input = this.valueComparator(input, this.trueValue) ? this.falseValue : this.trueValue\r\n      } else if (value) {\r\n        input = this.valueComparator(input, value) ? null : value\r\n      } else {\r\n        input = !input\r\n      }\r\n\r\n      this.validate(true, input)\r\n      this.internalValue = input\r\n    },\r\n    onFocus () {\r\n      this.isFocused = true\r\n    },\r\n    /** @abstract */\r\n    onKeydown (e) {}\r\n  }\r\n})\r\n"],"sourceRoot":""}