{"version":3,"sources":["../../../src/components/VWindow/VWindow.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\r\nimport '../../stylus/components/_windows.styl'\r\n\r\n// Components\r\nimport { BaseItemGroup } from '../VItemGroup/VItemGroup'\r\n\r\n// Directives\r\nimport Touch from '../../directives/touch'\r\n\r\n// Types\r\nimport { VNode, VNodeDirective } from 'vue/types/vnode'\r\n\r\n/* @vue/component */\r\nexport default BaseItemGroup.extend({\r\n  name: 'v-window',\r\n\r\n  provide (): object {\r\n    return {\r\n      windowGroup: this\r\n    }\r\n  },\r\n\r\n  directives: { Touch },\r\n\r\n  props: {\r\n    mandatory: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    reverse: {\r\n      type: Boolean,\r\n      default: undefined\r\n    },\r\n    touch: Object,\r\n    touchless: Boolean,\r\n    value: {\r\n      required: false\r\n    },\r\n    vertical: Boolean\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      internalHeight: undefined as undefined | string,\r\n      isActive: false,\r\n      isBooted: false,\r\n      isReverse: false\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    computedTransition (): string {\r\n      if (!this.isBooted) return ''\r\n\r\n      const axis = this.vertical ? 'y' : 'x'\r\n      const direction = this.internalReverse === !this.$vuetify.rtl\r\n        ? '-reverse'\r\n        : ''\r\n\r\n      return `v-window-${axis}${direction}-transition`\r\n    },\r\n    internalIndex (): number {\r\n      return this.items.findIndex((item, i) => {\r\n        return this.internalValue === this.getValue(item, i)\r\n      })\r\n    },\r\n    internalReverse (): boolean {\r\n      if (this.reverse !== undefined) return this.reverse\r\n\r\n      return this.isReverse\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    internalIndex: 'updateReverse'\r\n  },\r\n\r\n  mounted () {\r\n    this.$nextTick(() => (this.isBooted = true))\r\n  },\r\n\r\n  methods: {\r\n    genContainer (): VNode {\r\n      return this.$createElement('div', {\r\n        staticClass: 'v-window__container',\r\n        class: {\r\n          'v-window__container--is-active': this.isActive\r\n        },\r\n        style: {\r\n          height: this.internalHeight\r\n        }\r\n      }, this.$slots.default)\r\n    },\r\n    next () {\r\n      this.isReverse = false\r\n      const nextIndex = (this.internalIndex + 1) % this.items.length\r\n      const item = this.items[nextIndex]\r\n\r\n      this.internalValue = this.getValue(item, nextIndex)\r\n    },\r\n    prev () {\r\n      this.isReverse = true\r\n      const lastIndex = (this.internalIndex + this.items.length - 1) % this.items.length\r\n      const item = this.items[lastIndex]\r\n\r\n      this.internalValue = this.getValue(item, lastIndex)\r\n    },\r\n    updateReverse (val: number, oldVal: number) {\r\n      this.isReverse = val < oldVal\r\n    }\r\n  },\r\n\r\n  render (h): VNode {\r\n    const data = {\r\n      staticClass: 'v-window',\r\n      directives: [] as VNodeDirective[]\r\n    }\r\n\r\n    if (!this.touchless) {\r\n      const value = this.touch || {\r\n        left: this.next,\r\n        right: this.prev\r\n      }\r\n\r\n      data.directives.push({\r\n        name: 'touch',\r\n        value\r\n      })\r\n    }\r\n\r\n    return h('div', data, [this.genContainer()])\r\n  }\r\n})\r\n"],"sourceRoot":""}