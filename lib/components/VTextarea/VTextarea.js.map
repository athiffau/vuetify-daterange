{"version":3,"sources":["../../../src/components/VTextarea/VTextarea.js"],"names":[],"mappings":"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","sourcesContent":["// Styles\r\nimport '../../stylus/components/_textarea.styl'\r\n\r\n// Extensions\r\nimport VTextField from '../VTextField/VTextField'\r\n\r\nimport { consoleInfo } from '../../util/console'\r\n\r\n/* @vue/component */\r\nexport default {\r\n  name: 'v-textarea',\r\n\r\n  extends: VTextField,\r\n\r\n  props: {\r\n    autoGrow: Boolean,\r\n    noResize: Boolean,\r\n    outline: Boolean,\r\n    rowHeight: {\r\n      type: [Number, String],\r\n      default: 24,\r\n      validator: v => !isNaN(parseFloat(v))\r\n    },\r\n    rows: {\r\n      type: [Number, String],\r\n      default: 5,\r\n      validator: v => !isNaN(parseInt(v, 10))\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    classes () {\r\n      return {\r\n        'v-textarea': true,\r\n        'v-textarea--auto-grow': this.autoGrow,\r\n        'v-textarea--no-resize': this.noResizeHandle,\r\n        ...VTextField.options.computed.classes.call(this, null)\r\n      }\r\n    },\r\n    dynamicHeight () {\r\n      return this.autoGrow\r\n        ? this.inputHeight\r\n        : 'auto'\r\n    },\r\n    isEnclosed () {\r\n      return this.textarea ||\r\n        VTextField.options.computed.isEnclosed.call(this)\r\n    },\r\n    noResizeHandle () {\r\n      return this.noResize || this.autoGrow\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    lazyValue () {\r\n      !this.internalChange && this.autoGrow && this.$nextTick(this.calculateInputHeight)\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    setTimeout(() => {\r\n      this.autoGrow && this.calculateInputHeight()\r\n    }, 0)\r\n\r\n    // TODO: remove (2.0)\r\n    if (this.autoGrow && this.noResize) {\r\n      consoleInfo('\"no-resize\" is now implied when using \"auto-grow\", and can be removed', this)\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    calculateInputHeight () {\r\n      const input = this.$refs.input\r\n      if (input) {\r\n        input.style.height = 0\r\n        const height = input.scrollHeight\r\n        const minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight)\r\n        // This has to be done ASAP, waiting for Vue\r\n        // to update the DOM causes ugly layout jumping\r\n        input.style.height = Math.max(minHeight, height) + 'px'\r\n      }\r\n    },\r\n    genInput () {\r\n      const input = VTextField.options.methods.genInput.call(this)\r\n\r\n      input.tag = 'textarea'\r\n      delete input.data.attrs.type\r\n      input.data.attrs.rows = this.rows\r\n\r\n      return input\r\n    },\r\n    onInput (e) {\r\n      VTextField.options.methods.onInput.call(this, e)\r\n      this.autoGrow && this.calculateInputHeight()\r\n    },\r\n    onKeyDown (e) {\r\n      // Prevents closing of a\r\n      // dialog when pressing\r\n      // enter\r\n      if (this.isFocused &&\r\n        e.keyCode === 13\r\n      ) {\r\n        e.stopPropagation()\r\n      }\r\n\r\n      this.internalChange = true\r\n      this.$emit('keydown', e)\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}