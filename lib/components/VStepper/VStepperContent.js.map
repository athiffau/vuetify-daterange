{"version":3,"sources":["../../../src/components/VStepper/VStepperContent.ts"],"names":[],"mappings":"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","sourcesContent":["// Components\r\nimport {\r\n  VTabTransition,\r\n  VTabReverseTransition\r\n} from '../transitions'\r\n\r\n// Mixins\r\nimport { Registrable, inject as RegistrableInject } from '../../mixins/registrable'\r\n\r\n// Helpers\r\nimport { convertToUnit } from '../../util/helpers'\r\n\r\n// Util\r\nimport mixins, { ExtractVue } from '../../util/mixins'\r\n\r\n// Types\r\nimport Vue, { VNode, FunctionalComponentOptions, VNodeData } from 'vue'\r\n\r\ninterface options extends Vue {\r\n  $refs: {\r\n    wrapper: HTMLElement\r\n  }\r\n  isVerticalProvided: boolean\r\n}\r\n\r\nexport default mixins<options &\r\n/* eslint-disable indent */\r\n  ExtractVue<[\r\n    Registrable<'stepper'>\r\n  ]>\r\n/* eslint-enable indent */\r\n>(\r\n  RegistrableInject('stepper', 'v-stepper-content', 'v-stepper')\r\n/* @vue/component */\r\n).extend({\r\n  name: 'v-stepper-content',\r\n\r\n  inject: {\r\n    isVerticalProvided: {\r\n      from: 'isVertical'\r\n    }\r\n  },\r\n\r\n  props: {\r\n    step: {\r\n      type: [Number, String],\r\n      required: true\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      height: 0 as number | string,\r\n      // Must be null to allow\r\n      // previous comparison\r\n      isActive: null as boolean | null,\r\n      isReverse: false,\r\n      isVertical: this.isVerticalProvided\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    classes (): object {\r\n      return {\r\n        'v-stepper__content': true\r\n      }\r\n    },\r\n    computedTransition (): FunctionalComponentOptions {\r\n      return this.isReverse\r\n        ? VTabReverseTransition\r\n        : VTabTransition\r\n    },\r\n    styles (): object {\r\n      if (!this.isVertical) return {}\r\n\r\n      return {\r\n        height: convertToUnit(this.height)\r\n      }\r\n    },\r\n    wrapperClasses (): object {\r\n      return {\r\n        'v-stepper__wrapper': true\r\n      }\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    isActive (current, previous) {\r\n      // If active and the previous state\r\n      // was null, is just booting up\r\n      if (current && previous == null) {\r\n        this.height = 'auto'\r\n        return\r\n      }\r\n\r\n      if (!this.isVertical) return\r\n\r\n      if (this.isActive) this.enter()\r\n      else this.leave()\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    this.$refs.wrapper.addEventListener(\r\n      'transitionend',\r\n      this.onTransition,\r\n      false\r\n    )\r\n    this.stepper && this.stepper.register(this)\r\n  },\r\n\r\n  beforeDestroy () {\r\n    this.$refs.wrapper.removeEventListener(\r\n      'transitionend',\r\n      this.onTransition,\r\n      false\r\n    )\r\n    this.stepper && this.stepper.unregister(this)\r\n  },\r\n\r\n  methods: {\r\n    onTransition (e: TransitionEvent) {\r\n      if (!this.isActive ||\r\n        e.propertyName !== 'height'\r\n      ) return\r\n\r\n      this.height = 'auto'\r\n    },\r\n    enter () {\r\n      let scrollHeight = 0\r\n\r\n      // Render bug with height\r\n      requestAnimationFrame(() => {\r\n        scrollHeight = this.$refs.wrapper.scrollHeight\r\n      })\r\n\r\n      this.height = 0\r\n\r\n      // Give the collapsing element time to collapse\r\n      setTimeout(() => this.isActive && (this.height = (scrollHeight || 'auto')), 450)\r\n    },\r\n    leave () {\r\n      this.height = this.$refs.wrapper.clientHeight\r\n      setTimeout(() => (this.height = 0), 10)\r\n    },\r\n    toggle (step: string | number, reverse: boolean) {\r\n      this.isActive = step.toString() === this.step.toString()\r\n      this.isReverse = reverse\r\n    }\r\n  },\r\n\r\n  render (h): VNode {\r\n    const contentData: VNodeData = {\r\n      'class': this.classes\r\n    }\r\n    const wrapperData = {\r\n      'class': this.wrapperClasses,\r\n      style: this.styles,\r\n      ref: 'wrapper'\r\n    }\r\n\r\n    if (!this.isVertical) {\r\n      contentData.directives = [{\r\n        name: 'show',\r\n        value: this.isActive\r\n      }]\r\n    }\r\n\r\n    const wrapper = h('div', wrapperData, [this.$slots.default])\r\n    const content = h('div', contentData, [wrapper])\r\n\r\n    return h(this.computedTransition, {\r\n      on: this.$listeners\r\n    }, [content])\r\n  }\r\n})\r\n"],"sourceRoot":""}