{"version":3,"sources":["../../../src/components/VTabs/VTabs.js"],"names":[],"mappings":"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","sourcesContent":["// Styles\r\nimport '../../stylus/components/_tabs.styl'\r\n\r\n// Extensions\r\nimport { BaseItemGroup } from '../VItemGroup/VItemGroup'\r\n\r\n// Component level mixins\r\nimport TabsComputed from './mixins/tabs-computed'\r\nimport TabsGenerators from './mixins/tabs-generators'\r\nimport TabsProps from './mixins/tabs-props'\r\nimport TabsTouch from './mixins/tabs-touch'\r\nimport TabsWatchers from './mixins/tabs-watchers'\r\n\r\n// Mixins\r\nimport Colorable from '../../mixins/colorable'\r\nimport SSRBootable from '../../mixins/ssr-bootable'\r\nimport Themeable from '../../mixins/themeable'\r\n\r\n// Directives\r\nimport Resize from '../../directives/resize'\r\nimport Touch from '../../directives/touch'\r\nimport { deprecate } from '../../util/console'\r\n\r\n// Utils\r\nimport ThemeProvider from '../../util/ThemeProvider'\r\n\r\n/* @vue/component */\r\nexport default BaseItemGroup.extend({\r\n  name: 'v-tabs',\r\n\r\n  directives: {\r\n    Resize,\r\n    Touch\r\n  },\r\n\r\n  mixins: [\r\n    Colorable,\r\n    SSRBootable,\r\n    TabsComputed,\r\n    TabsProps,\r\n    TabsGenerators,\r\n    TabsTouch,\r\n    TabsWatchers,\r\n    Themeable\r\n  ],\r\n\r\n  provide () {\r\n    return {\r\n      tabGroup: this,\r\n      tabProxy: this.tabProxy,\r\n      registerItems: this.registerItems,\r\n      unregisterItems: this.unregisterItems\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      bar: [],\r\n      content: [],\r\n      isOverflowing: false,\r\n      nextIconVisible: false,\r\n      prevIconVisible: false,\r\n      resizeTimeout: null,\r\n      scrollOffset: 0,\r\n      sliderWidth: null,\r\n      sliderLeft: null,\r\n      startX: 0,\r\n      tabItems: null,\r\n      transitionTime: 300,\r\n      widths: {\r\n        bar: 0,\r\n        container: 0,\r\n        wrapper: 0\r\n      }\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    items: 'onResize',\r\n    tabs: 'onResize'\r\n  },\r\n\r\n  mounted () {\r\n    this.init()\r\n  },\r\n\r\n  methods: {\r\n    checkIcons () {\r\n      this.prevIconVisible = this.checkPrevIcon()\r\n      this.nextIconVisible = this.checkNextIcon()\r\n    },\r\n    checkPrevIcon () {\r\n      return this.scrollOffset > 0\r\n    },\r\n    checkNextIcon () {\r\n      // Check one scroll ahead to know the width of right-most item\r\n      return this.widths.container > this.scrollOffset + this.widths.wrapper\r\n    },\r\n    callSlider () {\r\n      if (this.hideSlider || !this.activeTab) return false\r\n\r\n      // Give screen time to paint\r\n      const activeTab = this.activeTab\r\n\r\n      this.$nextTick(() => {\r\n        /* istanbul ignore if */\r\n        if (!activeTab || !activeTab.$el) return\r\n        this.sliderWidth = activeTab.$el.scrollWidth\r\n        this.sliderLeft = activeTab.$el.offsetLeft\r\n      })\r\n    },\r\n    // Do not process\r\n    // until DOM is\r\n    // painted\r\n    init () {\r\n      /* istanbul ignore next */\r\n      if (this.$listeners['input']) {\r\n        deprecate('@input', '@change', this)\r\n      }\r\n    },\r\n    /**\r\n     * When v-navigation-drawer changes the\r\n     * width of the container, call resize\r\n     * after the transition is complete\r\n     */\r\n    onResize () {\r\n      if (this._isDestroyed) return\r\n\r\n      this.setWidths()\r\n\r\n      const delay = this.isBooted ? this.transitionTime : 0\r\n\r\n      clearTimeout(this.resizeTimeout)\r\n      this.resizeTimeout = setTimeout(this.updateTabsView, delay)\r\n    },\r\n    overflowCheck (e, fn) {\r\n      this.isOverflowing && fn(e)\r\n    },\r\n    scrollTo (direction) {\r\n      this.scrollOffset = this.newOffset(direction)\r\n    },\r\n    setOverflow () {\r\n      this.isOverflowing = this.widths.bar < this.widths.container\r\n    },\r\n    setWidths () {\r\n      const bar = this.$refs.bar ? this.$refs.bar.clientWidth : 0\r\n      const container = this.$refs.container ? this.$refs.container.clientWidth : 0\r\n      const wrapper = this.$refs.wrapper ? this.$refs.wrapper.clientWidth : 0\r\n\r\n      this.widths = { bar, container, wrapper }\r\n\r\n      this.setOverflow()\r\n    },\r\n    parseNodes () {\r\n      const item = []\r\n      const items = []\r\n      const slider = []\r\n      const tab = []\r\n      const length = (this.$slots.default || []).length\r\n\r\n      for (let i = 0; i < length; i++) {\r\n        const vnode = this.$slots.default[i]\r\n\r\n        if (vnode.componentOptions) {\r\n          switch (vnode.componentOptions.Ctor.options.name) {\r\n            case 'v-tabs-slider': slider.push(vnode)\r\n              break\r\n            case 'v-tabs-items': items.push(vnode)\r\n              break\r\n            case 'v-tab-item': item.push(vnode)\r\n              break\r\n            // case 'v-tab' - intentionally omitted\r\n            default: tab.push(vnode)\r\n          }\r\n        } else {\r\n          tab.push(vnode)\r\n        }\r\n      }\r\n\r\n      return { tab, slider, items, item }\r\n    },\r\n    registerItems (fn) {\r\n      this.tabItems = fn\r\n      fn(this.internalValue)\r\n    },\r\n    unregisterItems () {\r\n      this.tabItems = null\r\n    },\r\n    updateTabsView () {\r\n      this.callSlider()\r\n      this.scrollIntoView()\r\n      this.checkIcons()\r\n    },\r\n    scrollIntoView () {\r\n      /* istanbul ignore next */\r\n      if (!this.activeTab) return\r\n      if (!this.isOverflowing) return (this.scrollOffset = 0)\r\n\r\n      const totalWidth = this.widths.wrapper + this.scrollOffset\r\n      const { clientWidth, offsetLeft } = this.activeTab.$el\r\n      const itemOffset = clientWidth + offsetLeft\r\n      let additionalOffset = clientWidth * 0.3\r\n\r\n      if (this.activeTab === this.items[this.items.length - 1]) {\r\n        additionalOffset = 0 // don't add an offset if selecting the last tab\r\n      }\r\n\r\n      /* istanbul ignore else */\r\n      if (offsetLeft < this.scrollOffset) {\r\n        this.scrollOffset = Math.max(offsetLeft - additionalOffset, 0)\r\n      } else if (totalWidth < itemOffset) {\r\n        this.scrollOffset -= totalWidth - itemOffset - additionalOffset\r\n      }\r\n    },\r\n    tabProxy (val) {\r\n      this.internalValue = val\r\n    }\r\n  },\r\n\r\n  render (h) {\r\n    const { tab, slider, items, item } = this.parseNodes()\r\n\r\n    return h('div', {\r\n      staticClass: 'v-tabs',\r\n      directives: [{\r\n        name: 'resize',\r\n        modifiers: { quiet: true },\r\n        value: this.onResize\r\n      }]\r\n    }, [\r\n      this.genBar([this.hideSlider ? null : this.genSlider(slider), tab]),\r\n      h(ThemeProvider, {\r\n        props: { dark: this.theme.isDark, light: !this.theme.isDark }\r\n      }, [\r\n        this.genItems(items, item)\r\n      ])\r\n    ])\r\n  }\r\n})\r\n"],"sourceRoot":""}