{"version":3,"sources":["../../../src/components/VMenu/VMenu.js"],"names":[],"mappings":"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","sourcesContent":["import '../../stylus/components/_menus.styl'\r\n\r\nimport Vue from 'vue'\r\n\r\n// Mixins\r\nimport Delayable from '../../mixins/delayable'\r\nimport Dependent from '../../mixins/dependent'\r\nimport Detachable from '../../mixins/detachable'\r\nimport Menuable from '../../mixins/menuable.js'\r\nimport Returnable from '../../mixins/returnable'\r\nimport Toggleable from '../../mixins/toggleable'\r\nimport Themeable from '../../mixins/themeable'\r\n\r\n// Component level mixins\r\nimport Activator from './mixins/menu-activator'\r\nimport Generators from './mixins/menu-generators'\r\nimport Keyable from './mixins/menu-keyable'\r\nimport Position from './mixins/menu-position'\r\n\r\n// Directives\r\nimport ClickOutside from '../../directives/click-outside'\r\nimport Resize from '../../directives/resize'\r\n\r\n// Helpers\r\nimport { convertToUnit, getSlotType } from '../../util/helpers'\r\nimport ThemeProvider from '../../util/ThemeProvider'\r\nimport { consoleError } from '../../util/console'\r\n\r\n/* @vue/component */\r\nexport default Vue.extend({\r\n  name: 'v-menu',\r\n\r\n  provide () {\r\n    return {\r\n      // Pass theme through to default slot\r\n      theme: this.theme\r\n    }\r\n  },\r\n\r\n  directives: {\r\n    ClickOutside,\r\n    Resize\r\n  },\r\n\r\n  mixins: [\r\n    Activator,\r\n    Dependent,\r\n    Delayable,\r\n    Detachable,\r\n    Generators,\r\n    Keyable,\r\n    Menuable,\r\n    Position,\r\n    Returnable,\r\n    Toggleable,\r\n    Themeable\r\n  ],\r\n\r\n  props: {\r\n    auto: Boolean,\r\n    closeOnClick: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    closeOnContentClick: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    disabled: Boolean,\r\n    fullWidth: Boolean,\r\n    maxHeight: { default: 'auto' },\r\n    openOnClick: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    offsetX: Boolean,\r\n    offsetY: Boolean,\r\n    openOnHover: Boolean,\r\n    origin: {\r\n      type: String,\r\n      default: 'top left'\r\n    },\r\n    transition: {\r\n      type: [Boolean, String],\r\n      default: 'v-menu-transition'\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      defaultOffset: 8,\r\n      hasJustFocused: false,\r\n      resizeTimeout: null\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    calculatedLeft () {\r\n      const menuWidth = Math.max(this.dimensions.content.width, parseFloat(this.calculatedMinWidth))\r\n\r\n      if (!this.auto) return this.calcLeft(menuWidth)\r\n\r\n      return `${this.calcXOverflow(this.calcLeftAuto(), menuWidth)}px`\r\n    },\r\n    calculatedMaxHeight () {\r\n      return this.auto ? '200px' : convertToUnit(this.maxHeight)\r\n    },\r\n    calculatedMaxWidth () {\r\n      return isNaN(this.maxWidth)\r\n        ? this.maxWidth\r\n        : `${this.maxWidth}px`\r\n    },\r\n    calculatedMinWidth () {\r\n      if (this.minWidth) {\r\n        return isNaN(this.minWidth)\r\n          ? this.minWidth\r\n          : `${this.minWidth}px`\r\n      }\r\n\r\n      const minWidth = Math.min(\r\n        this.dimensions.activator.width +\r\n        this.nudgeWidth +\r\n        (this.auto ? 16 : 0),\r\n        Math.max(this.pageWidth - 24, 0)\r\n      )\r\n\r\n      const calculatedMaxWidth = isNaN(parseInt(this.calculatedMaxWidth))\r\n        ? minWidth\r\n        : parseInt(this.calculatedMaxWidth)\r\n\r\n      return `${Math.min(\r\n        calculatedMaxWidth,\r\n        minWidth\r\n      )}px`\r\n    },\r\n    calculatedTop () {\r\n      if (!this.auto || this.isAttached) return this.calcTop()\r\n\r\n      return `${this.calcYOverflow(this.calculatedTopAuto)}px`\r\n    },\r\n    styles () {\r\n      return {\r\n        maxHeight: this.calculatedMaxHeight,\r\n        minWidth: this.calculatedMinWidth,\r\n        maxWidth: this.calculatedMaxWidth,\r\n        top: this.calculatedTop,\r\n        left: this.calculatedLeft,\r\n        transformOrigin: this.origin,\r\n        zIndex: this.zIndex || this.activeZIndex\r\n      }\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    activator (newActivator, oldActivator) {\r\n      this.removeActivatorEvents(oldActivator)\r\n      this.addActivatorEvents(newActivator)\r\n    },\r\n    disabled (disabled) {\r\n      if (!this.activator) return\r\n\r\n      if (disabled) {\r\n        this.removeActivatorEvents(this.activator)\r\n      } else {\r\n        this.addActivatorEvents(this.activator)\r\n      }\r\n    },\r\n    isContentActive (val) {\r\n      this.hasJustFocused = val\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    this.isActive && this.activate()\r\n\r\n    if (getSlotType(this, 'activator', true) === 'v-slot') {\r\n      consoleError(`v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'`, this)\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    activate () {\r\n      // This exists primarily for v-select\r\n      // helps determine which tiles to activate\r\n      this.getTiles()\r\n      // Update coordinates and dimensions of menu\r\n      // and its activator\r\n      this.updateDimensions()\r\n      // Start the transition\r\n      requestAnimationFrame(() => {\r\n        // Once transitioning, calculate scroll and top position\r\n        this.startTransition().then(() => {\r\n          if (this.$refs.content) {\r\n            this.calculatedTopAuto = this.calcTopAuto()\r\n            this.auto && (this.$refs.content.scrollTop = this.calcScrollPosition())\r\n          }\r\n        })\r\n      })\r\n    },\r\n    closeConditional () {\r\n      return this.isActive && this.closeOnClick\r\n    },\r\n    onResize () {\r\n      if (!this.isActive) return\r\n\r\n      // Account for screen resize\r\n      // and orientation change\r\n      // eslint-disable-next-line no-unused-expressions\r\n      this.$refs.content.offsetWidth\r\n      this.updateDimensions()\r\n\r\n      // When resizing to a smaller width\r\n      // content width is evaluated before\r\n      // the new activator width has been\r\n      // set, causing it to not size properly\r\n      // hacky but will revisit in the future\r\n      clearTimeout(this.resizeTimeout)\r\n      this.resizeTimeout = setTimeout(this.updateDimensions, 100)\r\n    }\r\n  },\r\n\r\n  render (h) {\r\n    const data = {\r\n      staticClass: 'v-menu',\r\n      class: { 'v-menu--inline': !this.fullWidth && this.$slots.activator },\r\n      directives: [{\r\n        arg: 500,\r\n        name: 'resize',\r\n        value: this.onResize\r\n      }],\r\n      on: this.disableKeys ? undefined : {\r\n        keydown: this.onKeyDown\r\n      }\r\n    }\r\n\r\n    return h('div', data, [\r\n      this.genActivator(),\r\n      this.$createElement(ThemeProvider, {\r\n        props: {\r\n          root: true,\r\n          light: this.light,\r\n          dark: this.dark\r\n        }\r\n      }, [this.genTransition()])\r\n    ])\r\n  }\r\n})\r\n"],"sourceRoot":""}