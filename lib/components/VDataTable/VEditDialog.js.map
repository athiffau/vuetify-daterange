{"version":3,"sources":["../../../src/components/VDataTable/VEditDialog.js"],"names":[],"mappings":"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","sourcesContent":["import '../../stylus/components/_small-dialog.styl'\r\n\r\n// Mixins\r\nimport Returnable from '../../mixins/returnable'\r\nimport Themeable from '../../mixins/themeable'\r\n\r\n// Utils\r\nimport { keyCodes } from '../../util/helpers'\r\n\r\nimport VBtn from '../VBtn'\r\nimport VMenu from '../VMenu'\r\n\r\n/* @vue/component */\r\nexport default {\r\n  name: 'v-edit-dialog',\r\n\r\n  mixins: [Returnable, Themeable],\r\n\r\n  props: {\r\n    cancelText: {\r\n      default: 'Cancel'\r\n    },\r\n    large: Boolean,\r\n    lazy: Boolean,\r\n    persistent: Boolean,\r\n    saveText: {\r\n      default: 'Save'\r\n    },\r\n    transition: {\r\n      type: String,\r\n      default: 'slide-x-reverse-transition'\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      isActive: false\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    isActive (val) {\r\n      if (val) {\r\n        this.$emit('open')\r\n        setTimeout(this.focus, 50) // Give DOM time to paint\r\n      } else {\r\n        this.$emit('close')\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    cancel () {\r\n      this.isActive = false\r\n      this.$emit('cancel')\r\n    },\r\n    focus () {\r\n      const input = this.$refs.content.querySelector('input')\r\n      input && input.focus()\r\n    },\r\n    genButton (fn, text) {\r\n      return this.$createElement(VBtn, {\r\n        props: {\r\n          flat: true,\r\n          color: 'primary',\r\n          light: true\r\n        },\r\n        on: { click: fn }\r\n      }, text)\r\n    },\r\n    genActions () {\r\n      return this.$createElement('div', {\r\n        'class': 'v-small-dialog__actions'\r\n      }, [\r\n        this.genButton(this.cancel, this.cancelText),\r\n        this.genButton(() => {\r\n          this.save(this.returnValue)\r\n          this.$emit('save')\r\n        }, this.saveText)\r\n      ])\r\n    },\r\n    genContent () {\r\n      return this.$createElement('div', {\r\n        on: {\r\n          keydown: e => {\r\n            const input = this.$refs.content.querySelector('input')\r\n            e.keyCode === keyCodes.esc && this.cancel()\r\n            if (e.keyCode === keyCodes.enter && input) {\r\n              this.save(input.value)\r\n              this.$emit('save')\r\n            }\r\n          }\r\n        },\r\n        ref: 'content'\r\n      }, [this.$slots.input])\r\n    }\r\n  },\r\n\r\n  render (h) {\r\n    return h(VMenu, {\r\n      staticClass: 'v-small-dialog',\r\n      class: this.themeClasses,\r\n      props: {\r\n        contentClass: 'v-small-dialog__content',\r\n        transition: this.transition,\r\n        origin: 'top right',\r\n        right: true,\r\n        value: this.isActive,\r\n        closeOnClick: !this.persistent,\r\n        closeOnContentClick: false,\r\n        lazy: this.lazy,\r\n        light: this.light,\r\n        dark: this.dark\r\n      },\r\n      on: {\r\n        input: val => (this.isActive = val)\r\n      }\r\n    }, [\r\n      h('a', {\r\n        slot: 'activator'\r\n      }, this.$slots.default),\r\n      this.genContent(),\r\n      this.large ? this.genActions() : null\r\n    ])\r\n  }\r\n}\r\n"],"sourceRoot":""}