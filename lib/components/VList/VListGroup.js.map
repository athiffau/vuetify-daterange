{"version":3,"sources":["../../../src/components/VList/VListGroup.ts"],"names":[],"mappings":"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","sourcesContent":["// Components\r\nimport VIcon from '../VIcon'\r\nimport VList from './VList'\r\n\r\n// Mixins\r\nimport Bootable from '../../mixins/bootable'\r\nimport Toggleable from '../../mixins/toggleable'\r\nimport { Registrable, inject as RegistrableInject } from '../../mixins/registrable'\r\nimport { Route } from 'vue-router'\r\n\r\n// Transitions\r\nimport { VExpandTransition } from '../transitions'\r\n\r\n// Utils\r\nimport mixins, { ExtractVue } from '../../util/mixins'\r\n\r\n// Types\r\nimport Vue, { VNode } from 'vue'\r\n\r\ntype VListInstance = InstanceType<typeof VList>\r\n\r\ninterface options extends Vue {\r\n  list: VListInstance\r\n  listClick: Function\r\n  $route: Route\r\n}\r\n\r\nexport default mixins<options &\r\n/* eslint-disable indent */\r\n  ExtractVue<[\r\n    typeof Bootable,\r\n    typeof Toggleable,\r\n    Registrable<'list'>\r\n  ]>\r\n/* eslint-enable indent */\r\n>(\r\n  Bootable,\r\n  RegistrableInject('list', 'v-list-group', 'v-list'),\r\n  Toggleable\r\n  /* @vue/component */\r\n).extend({\r\n  name: 'v-list-group',\r\n\r\n  inject: ['listClick'],\r\n\r\n  props: {\r\n    activeClass: {\r\n      type: String,\r\n      default: 'primary--text'\r\n    },\r\n    appendIcon: {\r\n      type: String,\r\n      default: '$vuetify.icons.expand'\r\n    },\r\n    disabled: Boolean,\r\n    group: String,\r\n    noAction: Boolean,\r\n    prependIcon: String,\r\n    subGroup: Boolean\r\n  },\r\n\r\n  data: () => ({\r\n    groups: []\r\n  }),\r\n\r\n  computed: {\r\n    groupClasses (): object {\r\n      return {\r\n        'v-list__group--active': this.isActive,\r\n        'v-list__group--disabled': this.disabled\r\n      }\r\n    },\r\n    headerClasses (): object {\r\n      return {\r\n        'v-list__group__header--active': this.isActive,\r\n        'v-list__group__header--sub-group': this.subGroup\r\n      }\r\n    },\r\n    itemsClasses (): object {\r\n      return {\r\n        'v-list__group__items--no-action': this.noAction\r\n      }\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    isActive (val) {\r\n      if (!this.subGroup && val) {\r\n        this.listClick(this._uid)\r\n      }\r\n    },\r\n    $route (to) {\r\n      const isActive = this.matchRoute(to.path)\r\n\r\n      if (this.group) {\r\n        if (isActive && this.isActive !== isActive) {\r\n          this.listClick(this._uid)\r\n        }\r\n\r\n        this.isActive = isActive\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    this.list.register(this)\r\n\r\n    if (this.group &&\r\n      this.$route &&\r\n      this.value == null\r\n    ) {\r\n      this.isActive = this.matchRoute(this.$route.path)\r\n    }\r\n  },\r\n\r\n  beforeDestroy () {\r\n    this.list.unregister(this._uid)\r\n  },\r\n\r\n  methods: {\r\n    click (e: Event) {\r\n      if (this.disabled) return\r\n\r\n      this.$emit('click', e)\r\n\r\n      this.isActive = !this.isActive\r\n    },\r\n    genIcon (icon: string | false): VNode {\r\n      return this.$createElement(VIcon, icon)\r\n    },\r\n    genAppendIcon () {\r\n      const icon = !this.subGroup ? this.appendIcon : false\r\n\r\n      if (!icon && !this.$slots.appendIcon) return null\r\n\r\n      return this.$createElement('div', {\r\n        staticClass: 'v-list__group__header__append-icon'\r\n      }, [\r\n        this.$slots.appendIcon || this.genIcon(icon)\r\n      ])\r\n    },\r\n    genGroup () {\r\n      return this.$createElement('div', {\r\n        staticClass: 'v-list__group__header',\r\n        class: this.headerClasses,\r\n        on: {\r\n          ...this.$listeners,\r\n          click: this.click\r\n        },\r\n        ref: 'item'\r\n      }, [\r\n        this.genPrependIcon(),\r\n        this.$slots.activator,\r\n        this.genAppendIcon()\r\n      ])\r\n    },\r\n    genItems () {\r\n      return this.$createElement('div', {\r\n        staticClass: 'v-list__group__items',\r\n        class: this.itemsClasses,\r\n        directives: [{\r\n          name: 'show',\r\n          value: this.isActive\r\n        }],\r\n        ref: 'group'\r\n      }, this.showLazyContent(this.$slots.default))\r\n    },\r\n    genPrependIcon () {\r\n      const icon = this.prependIcon\r\n        ? this.prependIcon\r\n        : this.subGroup\r\n          ? '$vuetify.icons.subgroup'\r\n          : false\r\n\r\n      if (!icon && !this.$slots.prependIcon) return null\r\n\r\n      return this.$createElement('div', {\r\n        staticClass: 'v-list__group__header__prepend-icon',\r\n        'class': {\r\n          [this.activeClass]: this.isActive\r\n        }\r\n      }, [\r\n        this.$slots.prependIcon || this.genIcon(icon)\r\n      ])\r\n    },\r\n    toggle (uid: number) {\r\n      this.isActive = this._uid === uid\r\n    },\r\n    matchRoute (to: string) {\r\n      if (!this.group) return false\r\n      return to.match(this.group) !== null\r\n    }\r\n  },\r\n\r\n  render (h): VNode {\r\n    return h('div', {\r\n      staticClass: 'v-list__group',\r\n      class: this.groupClasses\r\n    }, [\r\n      this.genGroup(),\r\n      h(VExpandTransition, [this.genItems()])\r\n    ])\r\n  }\r\n})\r\n"],"sourceRoot":""}