{"version":3,"sources":["../../../src/components/transitions/expand-transition.js"],"names":[],"mappings":";;AAAA,SAAS,UAAT,QAA2B,oBAA3B;AAEA,eAAc,YAA8C;AAAA,QAAnC,mBAAmC,uEAAb,EAAa;AAAA,QAAT,CAAS,uEAAL,KAAK;;AAC1D,QAAM,eAAe,IAAI,OAAJ,GAAc,QAAnC;AAEA,WAAO;AACL,mBADK,uBACQ,EADR,EACU;AACb,eAAG,OAAH,GAAa,GAAG,UAAhB;AACA,eAAG,aAAH;AACE,4BAAY,GAAG,KAAH,CAAS,UADvB;AAEE,4BAAY,GAAG,KAAH,CAAS,UAFvB;AAGE,0BAAU,GAAG,KAAH,CAAS;AAHrB,eAIG,YAJH,EAIkB,GAAG,KAAH,CAAS,YAAT,CAJlB;AAMD,SATI;AAWL,aAXK,iBAWE,EAXF,EAWI;AACP,gBAAM,eAAe,GAAG,aAAxB;AACA,eAAG,KAAH,CAAS,WAAT,CAAqB,YAArB,EAAmC,MAAnC,EAA2C,WAA3C;AACA,eAAG,KAAH,CAAS,UAAT,GAAsB,QAAtB;AACA,gBAAM,OAAU,GAAG,WAAW,WAAW,YAAX,CAAd,CAAV,OAAN;AACA,eAAG,KAAH,CAAS,UAAT,GAAsB,aAAa,UAAnC;AACA,eAAG,KAAH,CAAS,QAAT,GAAoB,QAApB;AACA,eAAG,KAAH,CAAS,YAAT,IAAyB,CAAzB;AACA,iBAAK,GAAG,YAAR,CARO,CAQc;AACrB,eAAG,KAAH,CAAS,UAAT,GAAsB,aAAa,UAAnC;AAEA,mCAAuB,GAAG,OAA1B,IAAqC,GAAG,OAAH,CAAW,SAAX,CAAqB,GAArB,CAAyB,mBAAzB,CAArC;AAEA,kCAAsB,YAAK;AACzB,mBAAG,KAAH,CAAS,YAAT,IAAyB,IAAzB;AACD,aAFD;AAGD,SA3BI;;AA6BL,oBAAY,WA7BP;AA8BL,wBAAgB,WA9BX;AAgCL,aAhCK,iBAgCE,EAhCF,EAgCI;AACP,eAAG,aAAH;AACE,0BAAU,GAAG,KAAH,CAAS;AADrB,eAEG,YAFH,EAEkB,GAAG,KAAH,CAAS,YAAT,CAFlB;AAKA,eAAG,KAAH,CAAS,QAAT,GAAoB,QAApB;AACA,eAAG,KAAH,CAAS,YAAT,IAA4B,GAAG,WAAW,WAAW,YAAX,CAAd,CAA5B;AACA,iBAAK,GAAG,YAAR,CARO,CAQc;AAErB,kCAAsB;AAAA,uBAAM,GAAG,KAAH,CAAS,YAAT,IAAyB,CAA/B;AAAA,aAAtB;AACD,SA3CI;;AA6CL,8BA7CK;AA8CL,wBAAgB;AA9CX,KAAP;AAiDA,aAAS,UAAT,CAAqB,EAArB,EAAuB;AACrB,+BAAuB,GAAG,OAA1B,IAAqC,GAAG,OAAH,CAAW,SAAX,CAAqB,MAArB,CAA4B,mBAA5B,CAArC;AACA,oBAAY,EAAZ;AACD;AAED,aAAS,WAAT,CAAsB,EAAtB,EAAwB;AACtB,WAAG,KAAH,CAAS,QAAT,GAAoB,GAAG,aAAH,CAAiB,QAArC;AACA,WAAG,KAAH,CAAS,YAAT,IAAyB,GAAG,aAAH,CAAiB,YAAjB,CAAzB;AACA,eAAO,GAAG,aAAV;AACD;AACF","sourcesContent":["import { upperFirst } from '../../util/helpers'\r\n\r\nexport default function (expandedParentClass = '', x = false) {\r\n  const sizeProperty = x ? 'width' : 'height'\r\n\r\n  return {\r\n    beforeEnter (el) {\r\n      el._parent = el.parentNode\r\n      el._initialStyle = {\r\n        transition: el.style.transition,\r\n        visibility: el.style.visibility,\r\n        overflow: el.style.overflow,\r\n        [sizeProperty]: el.style[sizeProperty]\r\n      }\r\n    },\r\n\r\n    enter (el) {\r\n      const initialStyle = el._initialStyle\r\n      el.style.setProperty('transition', 'none', 'important')\r\n      el.style.visibility = 'hidden'\r\n      const size = `${el['offset' + upperFirst(sizeProperty)]}px`\r\n      el.style.visibility = initialStyle.visibility\r\n      el.style.overflow = 'hidden'\r\n      el.style[sizeProperty] = 0\r\n      void el.offsetHeight // force reflow\r\n      el.style.transition = initialStyle.transition\r\n\r\n      expandedParentClass && el._parent && el._parent.classList.add(expandedParentClass)\r\n\r\n      requestAnimationFrame(() => {\r\n        el.style[sizeProperty] = size\r\n      })\r\n    },\r\n\r\n    afterEnter: resetStyles,\r\n    enterCancelled: resetStyles,\r\n\r\n    leave (el) {\r\n      el._initialStyle = {\r\n        overflow: el.style.overflow,\r\n        [sizeProperty]: el.style[sizeProperty]\r\n      }\r\n\r\n      el.style.overflow = 'hidden'\r\n      el.style[sizeProperty] = `${el['offset' + upperFirst(sizeProperty)]}px`\r\n      void el.offsetHeight // force reflow\r\n\r\n      requestAnimationFrame(() => el.style[sizeProperty] = 0)\r\n    },\r\n\r\n    afterLeave,\r\n    leaveCancelled: afterLeave\r\n  }\r\n\r\n  function afterLeave (el) {\r\n    expandedParentClass && el._parent && el._parent.classList.remove(expandedParentClass)\r\n    resetStyles(el)\r\n  }\r\n\r\n  function resetStyles (el) {\r\n    el.style.overflow = el._initialStyle.overflow\r\n    el.style[sizeProperty] = el._initialStyle[sizeProperty]\r\n    delete el._initialStyle\r\n  }\r\n}\r\n"],"sourceRoot":""}