{"version":3,"sources":["../../src/mixins/registrable.ts"],"names":[],"mappings":";;;;;QAegB,M,GAAA,M;QAiBA,O,GAAA,O;;;;;;AA9BhB;;;;;;AAEA,SAAS,eAAT,CAA0B,KAA1B,EAAyC,MAAzC,EAAuD;AACrD,WAAO;AAAA,eAAM,mCAAmB,KAAnB,yCAA4D,MAA5D,CAAN;AAAA,KAAP;AACD;AASK,SAAU,MAAV,CAAoC,SAApC,EAAkD,KAAlD,EAAkE,MAAlE,EAAiF;AACrF,QAAM,cAAc,SAAS,MAAT,GAAkB;AACpC,kBAAU,gBAAgB,KAAhB,EAAuB,MAAvB,CAD0B;AAEpC,oBAAY,gBAAgB,KAAhB,EAAuB,MAAvB;AAFwB,KAAlB,GAGhB,IAHJ;AAKA,WAAO,cAAI,MAAJ,CAAW;AAChB,cAAM,oBADU;AAGhB,oCACG,SADH,EACe;AACX,qBAAS;AADE,SADf;AAHgB,KAAX,CAAP;AASD;AAEK,SAAU,OAAV,CAAmB,SAAnB,EAAoC;AACxC,WAAO,cAAI,MAAJ,CAAW;AAChB,cAAM,qBADU;AAGhB,iBAAS;AACP,sBAAU,IADH;AAEP,wBAAY;AAFL,SAHO;AAOhB,eAPgB,qBAOT;AACL,uCACG,SADH,EACe;AACX,0BAAU,KAAK,QADJ;AAEX,4BAAY,KAAK;AAFN,aADf;AAMD;AAde,KAAX,CAAP;AAgBD","sourcesContent":["import Vue from 'vue'\r\nimport { VueConstructor } from 'vue/types/vue'\r\nimport { consoleWarn } from '../util/console'\r\n\r\nfunction generateWarning (child: string, parent: string) {\r\n  return () => consoleWarn(`The ${child} component must be used inside a ${parent}`)\r\n}\r\n\r\nexport type Registrable<T extends string> = VueConstructor<Vue & {\r\n  [K in T]: {\r\n    register (...props: any[]): void\r\n    unregister (self: any): void\r\n  }\r\n}>\r\n\r\nexport function inject<T extends string> (namespace: T, child?: string, parent?: string): Registrable<T> {\r\n  const defaultImpl = child && parent ? {\r\n    register: generateWarning(child, parent),\r\n    unregister: generateWarning(child, parent)\r\n  } : null\r\n\r\n  return Vue.extend({\r\n    name: 'registrable-inject',\r\n\r\n    inject: {\r\n      [namespace]: {\r\n        default: defaultImpl\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\nexport function provide (namespace: string) {\r\n  return Vue.extend({\r\n    name: 'registrable-provide',\r\n\r\n    methods: {\r\n      register: null,\r\n      unregister: null\r\n    },\r\n    provide () {\r\n      return {\r\n        [namespace]: {\r\n          register: this.register,\r\n          unregister: this.unregister\r\n        }\r\n      }\r\n    }\r\n  })\r\n}\r\n"],"sourceRoot":""}