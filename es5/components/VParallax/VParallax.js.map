{"version":3,"sources":["../../../src/components/VParallax/VParallax.ts"],"names":[],"mappings":";;;;;;AACA;;AAGA;;;;AAKA;;;;;;AAQA;;AAdA;kBAee,sBAAkD,sBAAlD,EAAgE,MAAhE,CAAuE;AACpF,UAAM,YAD8E;AAGpF,WAAO;AACL,aAAK;AACH,kBAAM,MADH;AAEH,qBAAS;AAFN,SADA;AAKL,gBAAQ;AACN,kBAAM,CAAC,MAAD,EAAS,MAAT,CADA;AAEN,qBAAS;AAFH,SALH;AASL,aAAK;AATA,KAH6E;AAepF,UAAM;AAAA,eAAO;AACX,sBAAU;AADC,SAAP;AAAA,KAf8E;AAmBpF,cAAU;AACR,cADQ,oBACF;AACJ,mBAAO;AACL,yBAAS,OADJ;AAEL,yBAAS,KAAK,QAAL,GAAgB,CAAhB,GAAoB,CAFxB;AAGL,gDAA8B,KAAK,QAAnC;AAHK,aAAP;AAKD;AAPO,KAnB0E;AA6BpF,WAAO;AACL,gBADK,sBACG;AACN,iBAAK,QAAL,GAAgB,IAAhB;AACD;AAHI,KA7B6E;AAmCpF,WAnCoF,qBAmC7E;AACL,aAAK,IAAL;AACD,KArCmF;;AAuCpF,aAAS;AACP,YADO,kBACH;AAAA;;AACF,gBAAM,MAAM,KAAK,KAAL,CAAW,GAAvB;AAEA,gBAAI,CAAC,GAAL,EAAU;AAEV,gBAAI,IAAI,QAAR,EAAkB;AAChB,qBAAK,SAAL;AACA,qBAAK,SAAL;AACD,aAHD,MAGO;AACL,oBAAI,gBAAJ,CAAqB,MAArB,EAA6B,YAAK;AAChC,0BAAK,SAAL;AACA,0BAAK,SAAL;AACD,iBAHD,EAGG,KAHH;AAID;AACF,SAfM;AAgBP,iBAhBO,uBAgBE;AACP,mBAAO,KAAK,KAAL,CAAW,GAAX,CAAe,aAAtB;AACD;AAlBM,KAvC2E;AA4DpF,UA5DoF,kBA4D5E,CA5D4E,EA4D3E;AACP,YAAM,UAAqB;AACzB,yBAAa,mBADY;AAEzB,mBAAO,KAAK,MAFa;AAGzB,mBAAO;AACL,qBAAK,KAAK,GADL;AAEL,qBAAK,KAAK;AAFL,aAHkB;AAOzB,iBAAK;AAPoB,SAA3B;AAUA,YAAM,YAAY,EAAE,KAAF,EAAS;AACzB,yBAAa;AADY,SAAT,EAEf,CACD,EAAE,KAAF,EAAS,OAAT,CADC,CAFe,CAAlB;AAMA,YAAM,UAAU,EAAE,KAAF,EAAS;AACvB,yBAAa;AADU,SAAT,EAEb,KAAK,MAAL,CAAY,OAFC,CAAhB;AAIA,eAAO,EAAE,KAAF,EAAS;AACd,yBAAa,YADC;AAEd,mBAAO;AACL,wBAAW,KAAK,MAAhB;AADK,aAFO;AAKd,gBAAI,KAAK;AALK,SAAT,EAMJ,CAAC,SAAD,EAAY,OAAZ,CANI,CAAP;AAOD;AAxFmF,CAAvE,C","sourcesContent":["// Style\r\nimport '../../stylus/components/_parallax.styl'\r\n\r\n// Mixins\r\nimport Translatable from '../../mixins/translatable'\r\n\r\n// Types\r\nimport Vue from 'vue'\r\nimport { VNode, VNodeData } from 'vue/types/vnode'\r\nimport mixins, { ExtractVue } from '../../util/mixins'\r\n\r\ninterface options extends Vue {\r\n  $refs: {\r\n    img: HTMLImageElement\r\n  }\r\n}\r\n\r\n/* @vue/component */\r\nexport default mixins<options & ExtractVue<typeof Translatable>>(Translatable).extend({\r\n  name: 'v-parallax',\r\n\r\n  props: {\r\n    alt: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    height: {\r\n      type: [String, Number],\r\n      default: 500\r\n    },\r\n    src: String\r\n  },\r\n\r\n  data: () => ({\r\n    isBooted: false\r\n  }),\r\n\r\n  computed: {\r\n    styles (): object {\r\n      return {\r\n        display: 'block',\r\n        opacity: this.isBooted ? 1 : 0,\r\n        transform: `translate(-50%, ${this.parallax}px)`\r\n      }\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    parallax () {\r\n      this.isBooted = true\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    this.init()\r\n  },\r\n\r\n  methods: {\r\n    init () {\r\n      const img = this.$refs.img\r\n\r\n      if (!img) return\r\n\r\n      if (img.complete) {\r\n        this.translate()\r\n        this.listeners()\r\n      } else {\r\n        img.addEventListener('load', () => {\r\n          this.translate()\r\n          this.listeners()\r\n        }, false)\r\n      }\r\n    },\r\n    objHeight () {\r\n      return this.$refs.img.naturalHeight\r\n    }\r\n  },\r\n\r\n  render (h): VNode {\r\n    const imgData: VNodeData = {\r\n      staticClass: 'v-parallax__image',\r\n      style: this.styles,\r\n      attrs: {\r\n        src: this.src,\r\n        alt: this.alt\r\n      },\r\n      ref: 'img'\r\n    }\r\n\r\n    const container = h('div', {\r\n      staticClass: 'v-parallax__image-container'\r\n    }, [\r\n      h('img', imgData)\r\n    ])\r\n\r\n    const content = h('div', {\r\n      staticClass: 'v-parallax__content'\r\n    }, this.$slots.default)\r\n\r\n    return h('div', {\r\n      staticClass: 'v-parallax',\r\n      style: {\r\n        height: `${this.height}px`\r\n      },\r\n      on: this.$listeners\r\n    }, [container, content])\r\n  }\r\n})\r\n"],"sourceRoot":""}