{"version":3,"sources":["../../../../src/components/Vuetify/mixins/lang.ts"],"names":[],"mappings":";;;;;kBA0BwB,I;;;;;;AAzBxB;;AACA;;;;;;AAIA,IAAM,cAAc,WAApB;AACA,IAAM,WAAW,OAAO,eAAP,CAAjB;AAEA,SAAS,cAAT,CAAyB,MAAzB,EAAgD,GAAhD,EAAkF;AAAA,QAArB,aAAqB,uEAAL,KAAK;;AAChF,QAAM,WAAW,IAAI,OAAJ,CAAY,WAAZ,EAAyB,EAAzB,CAAjB;AACA,QAAI,cAAc,mCAAqB,MAArB,EAA6B,QAA7B,EAAuC,QAAvC,CAAlB;AAEA,QAAI,gBAAgB,QAApB,EAA8B;AAC5B,YAAI,aAAJ,EAAmB;AACjB,6DAAiC,QAAjC;AACA,0BAAc,GAAd;AACD,SAHD,MAGO;AACL,4DAAgC,QAAhC;AACA,0BAAc,eAAe,YAAf,EAAmB,GAAnB,EAAwB,IAAxB,CAAd;AACD;AACF;AAED,WAAO,WAAP;AACD;AAEa,SAAU,IAAV,GAA4C;AAAA,QAA5B,MAA4B,uEAAF,EAAE;;AACxD,WAAO;AACL,iBAAS,OAAO,MAAP,CAAc,EAAE,gBAAF,EAAd,EAAsB,OAAO,OAA7B,CADJ;AAEL,iBAAS,OAAO,OAAP,IAAkB,IAFtB;AAGL,SAHK,aAGF,GAHE,EAGY;AAAA,8CAAN,MAAM;AAAN,sBAAM;AAAA;;AACf,gBAAI,CAAC,IAAI,UAAJ,CAAe,WAAf,CAAL,EAAkC,OAAO,GAAP;AAElC,gBAAI,OAAO,CAAX,EAAc,OAAO,OAAO,CAAP,gBAAS,GAAT,4BAAiB,MAAjB,GAAP;AAEd,gBAAM,cAAc,eAAe,KAAK,OAAL,CAAa,KAAK,OAAlB,CAAf,EAA2C,GAA3C,CAApB;AAEA,mBAAO,YAAY,OAAZ,CAAoB,YAApB,EAAkC,UAAC,KAAD,EAAgB,KAAhB,EAAiC;AACxE,uBAAO,OAAO,OAAO,CAAC,KAAR,CAAP,CAAP;AACD,aAFM,CAAP;AAGD;AAbI,KAAP;AAeD","sourcesContent":["import en from '../../../locale/en'\r\nimport { getObjectValueByPath } from '../../../util/helpers'\r\nimport { consoleError, consoleWarn } from '../../../util/console'\r\nimport { VuetifyUseOptions as Options } from 'vuetify/types'\r\nimport { VuetifyLanguage, VuetifyLocale } from 'vuetify/types/lang'\r\n\r\nconst LANG_PREFIX = '$vuetify.'\r\nconst fallback = Symbol('Lang fallback')\r\n\r\nfunction getTranslation (locale: VuetifyLocale, key: string, usingFallback = false): string {\r\n  const shortKey = key.replace(LANG_PREFIX, '')\r\n  let translation = getObjectValueByPath(locale, shortKey, fallback) as string | typeof fallback\r\n\r\n  if (translation === fallback) {\r\n    if (usingFallback) {\r\n      consoleError(`Translation key \"${shortKey}\" not found in fallback`)\r\n      translation = key\r\n    } else {\r\n      consoleWarn(`Translation key \"${shortKey}\" not found, falling back to default`)\r\n      translation = getTranslation(en, key, true)\r\n    }\r\n  }\r\n\r\n  return translation\r\n}\r\n\r\nexport default function lang (config: Options['lang'] = {}): VuetifyLanguage {\r\n  return {\r\n    locales: Object.assign({ en }, config.locales),\r\n    current: config.current || 'en',\r\n    t (key, ...params) {\r\n      if (!key.startsWith(LANG_PREFIX)) return key\r\n\r\n      if (config.t) return config.t(key, ...params)\r\n\r\n      const translation = getTranslation(this.locales[this.current], key)\r\n\r\n      return translation.replace(/\\{(\\d+)\\}/g, (match: string, index: string) => {\r\n        return String(params[+index])\r\n      })\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}