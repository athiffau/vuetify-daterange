{"version":3,"sources":["../../../src/components/VToolbar/VToolbar.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\r\nimport '../../stylus/components/_toolbar.styl'\r\n\r\n// Mixins\r\nimport Applicationable from '../../mixins/applicationable'\r\nimport Colorable from '../../mixins/colorable'\r\nimport Themeable from '../../mixins/themeable'\r\nimport SSRBootable from '../../mixins/ssr-bootable'\r\n\r\n// Directives\r\nimport Scroll from '../../directives/scroll'\r\nimport { deprecate } from '../../util/console'\r\n\r\n// Types\r\nimport mixins from '../../util/mixins'\r\nimport { VNode } from 'vue'\r\n\r\nexport default mixins(\r\n  Applicationable('top', [\r\n    'clippedLeft',\r\n    'clippedRight',\r\n    'computedHeight',\r\n    'invertedScroll',\r\n    'manualScroll'\r\n  ]),\r\n  Colorable,\r\n  SSRBootable,\r\n  Themeable\r\n/* @vue/component */\r\n).extend({\r\n  name: 'v-toolbar',\r\n\r\n  directives: { Scroll },\r\n\r\n  props: {\r\n    card: Boolean,\r\n    clippedLeft: Boolean,\r\n    clippedRight: Boolean,\r\n    dense: Boolean,\r\n    extended: Boolean,\r\n    extensionHeight: {\r\n      type: [Number, String],\r\n      validator: (v: any) => !isNaN(parseInt(v))\r\n    },\r\n    flat: Boolean,\r\n    floating: Boolean,\r\n    height: {\r\n      type: [Number, String],\r\n      validator: (v: any) => !isNaN(parseInt(v))\r\n    },\r\n    invertedScroll: Boolean,\r\n    manualScroll: Boolean,\r\n    prominent: Boolean,\r\n    scrollOffScreen: Boolean,\r\n    /* @deprecated */\r\n    scrollToolbarOffScreen: Boolean,\r\n    scrollTarget: String,\r\n    scrollThreshold: {\r\n      type: Number,\r\n      default: 300\r\n    },\r\n    tabs: Boolean\r\n  },\r\n\r\n  data: () => ({\r\n    activeTimeout: null,\r\n    currentScroll: 0,\r\n    heights: {\r\n      mobileLandscape: 48,\r\n      mobile: 56,\r\n      desktop: 64,\r\n      dense: 48\r\n    },\r\n    isActive: true,\r\n    isExtended: false,\r\n    isScrollingUp: false,\r\n    previousScroll: 0,\r\n    savedScroll: 0,\r\n    target: null as Element | null\r\n  }),\r\n\r\n  computed: {\r\n    canScroll (): boolean {\r\n      // TODO: remove\r\n      if (this.scrollToolbarOffScreen) {\r\n        deprecate('scrollToolbarOffScreen', 'scrollOffScreen', this)\r\n\r\n        return true\r\n      }\r\n\r\n      return this.scrollOffScreen || this.invertedScroll\r\n    },\r\n    computedContentHeight (): number {\r\n      if (this.height) return parseInt(this.height)\r\n      if (this.dense) return this.heights.dense\r\n\r\n      if (this.prominent ||\r\n        this.$vuetify.breakpoint.mdAndUp\r\n      ) return this.heights.desktop\r\n\r\n      if (this.$vuetify.breakpoint.smAndDown &&\r\n        this.$vuetify.breakpoint.width >\r\n        this.$vuetify.breakpoint.height\r\n      ) return this.heights.mobileLandscape\r\n\r\n      return this.heights.mobile\r\n    },\r\n    computedExtensionHeight (): number {\r\n      if (this.tabs) return 48\r\n      if (this.extensionHeight) return parseInt(this.extensionHeight)\r\n\r\n      return this.computedContentHeight\r\n    },\r\n    computedHeight (): number {\r\n      if (!this.isExtended) return this.computedContentHeight\r\n\r\n      return this.computedContentHeight + this.computedExtensionHeight\r\n    },\r\n    computedMarginTop (): number {\r\n      if (!this.app) return 0\r\n\r\n      return this.$vuetify.application.bar\r\n    },\r\n    classes (): object {\r\n      return {\r\n        'v-toolbar': true,\r\n        'elevation-0': this.flat || (\r\n          !this.isActive &&\r\n          !this.tabs &&\r\n          this.canScroll\r\n        ),\r\n        'v-toolbar--absolute': this.absolute,\r\n        'v-toolbar--card': this.card,\r\n        'v-toolbar--clipped': this.clippedLeft || this.clippedRight,\r\n        'v-toolbar--dense': this.dense,\r\n        'v-toolbar--extended': this.isExtended,\r\n        'v-toolbar--fixed': !this.absolute && (this.app || this.fixed),\r\n        'v-toolbar--floating': this.floating,\r\n        'v-toolbar--prominent': this.prominent,\r\n        ...this.themeClasses\r\n      }\r\n    },\r\n    computedPaddingLeft (): number {\r\n      if (!this.app || this.clippedLeft) return 0\r\n\r\n      return this.$vuetify.application.left\r\n    },\r\n    computedPaddingRight (): number {\r\n      if (!this.app || this.clippedRight) return 0\r\n\r\n      return this.$vuetify.application.right\r\n    },\r\n    computedTransform (): number {\r\n      return !this.isActive\r\n        ? this.canScroll\r\n          ? -this.computedContentHeight\r\n          : -this.computedHeight\r\n        : 0\r\n    },\r\n    currentThreshold (): number {\r\n      return Math.abs(this.currentScroll - this.savedScroll)\r\n    },\r\n    styles (): object {\r\n      return {\r\n        marginTop: `${this.computedMarginTop}px`,\r\n        paddingRight: `${this.computedPaddingRight}px`,\r\n        paddingLeft: `${this.computedPaddingLeft}px`,\r\n        transform: `translateY(${this.computedTransform}px)`\r\n      }\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    currentThreshold (val: number) {\r\n      if (this.invertedScroll) {\r\n        this.isActive = this.currentScroll > this.scrollThreshold\r\n        return\r\n      }\r\n\r\n      if (val < this.scrollThreshold ||\r\n        !this.isBooted\r\n      ) return\r\n\r\n      this.isActive = this.isScrollingUp\r\n      this.savedScroll = this.currentScroll\r\n    },\r\n    isActive () {\r\n      this.savedScroll = 0\r\n    },\r\n    invertedScroll (val: boolean) {\r\n      this.isActive = !val\r\n    },\r\n    manualScroll (val: boolean) {\r\n      this.isActive = !val\r\n    },\r\n    isScrollingUp () {\r\n      this.savedScroll = this.savedScroll || this.currentScroll\r\n    }\r\n  },\r\n\r\n  created () {\r\n    if (this.invertedScroll ||\r\n      this.manualScroll\r\n    ) this.isActive = false\r\n  },\r\n\r\n  mounted () {\r\n    if (this.scrollTarget) {\r\n      this.target = document.querySelector(this.scrollTarget)\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    onScroll () {\r\n      if (!this.canScroll ||\r\n        this.manualScroll ||\r\n        typeof window === 'undefined'\r\n      ) return\r\n\r\n      this.currentScroll = this.target\r\n        ? this.target.scrollTop\r\n        : window.pageYOffset\r\n\r\n      this.isScrollingUp = this.currentScroll < this.previousScroll\r\n\r\n      this.previousScroll = this.currentScroll\r\n    },\r\n    updateApplication (): number {\r\n      return this.invertedScroll || this.manualScroll\r\n        ? 0\r\n        : this.computedHeight\r\n    }\r\n  },\r\n\r\n  render (h): VNode {\r\n    this.isExtended = this.extended || !!this.$slots.extension\r\n\r\n    const children = []\r\n    const data = this.setBackgroundColor(this.color, {\r\n      'class': this.classes,\r\n      style: this.styles,\r\n      on: this.$listeners\r\n    })\r\n\r\n    data.directives = [{\r\n      arg: this.scrollTarget,\r\n      name: 'scroll',\r\n      value: this.onScroll\r\n    }]\r\n\r\n    children.push(h('div', {\r\n      staticClass: 'v-toolbar__content',\r\n      style: { height: `${this.computedContentHeight}px` },\r\n      ref: 'content'\r\n    }, this.$slots.default))\r\n\r\n    if (this.isExtended) {\r\n      children.push(h('div', {\r\n        staticClass: 'v-toolbar__extension',\r\n        style: { height: `${this.computedExtensionHeight}px` }\r\n      }, this.$slots.extension))\r\n    }\r\n\r\n    return h('nav', data, children)\r\n  }\r\n})\r\n"],"sourceRoot":""}