{"version":3,"sources":["../../../../src/components/VCalendar/mixins/mouse.ts"],"names":[],"mappings":";;;;;;;;;;;;;;kBAqBe,cAAI,MAAJ,CAAW;AACxB,UAAM,OADkB;AAGxB,aAAS;AACP,oCADO,wCACuB,MADvB,EACuC,QADvC,EAC6D;AAAA;;AAClE,mBAAO,KAAK,qBAAL,qEACJ,UAAU,MADN,EACe,EAAE,OAAO,OAAT,EADf,0CAEJ,gBAAgB,MAFZ,EAEqB,EAAE,OAAO,aAAT,EAAwB,SAAS,IAAjC,EAAuC,QAAQ,KAA/C,EAFrB,0CAGJ,cAAc,MAHV,EAGmB,EAAE,OAAO,WAAT,EAHnB,0CAIJ,cAAc,MAJV,EAImB,EAAE,OAAO,WAAT,EAJnB,0CAKJ,YAAY,MALR,EAKiB,EAAE,OAAO,SAAT,EALjB,0CAMJ,eAAe,MANX,EAMoB,EAAE,OAAO,YAAT,EANpB,0CAOJ,eAAe,MAPX,EAOoB,EAAE,OAAO,YAAT,EAPpB,0CAQJ,eAAe,MARX,EAQoB,EAAE,OAAO,YAAT,EARpB,0CASJ,cAAc,MATV,EASmB,EAAE,OAAO,WAAT,EATnB,0CAUJ,aAAa,MAVT,EAUkB,EAAE,OAAO,UAAT,EAVlB,2BAWJ,QAXI,CAAP;AAYD,SAdM;AAeP,6BAfO,iCAegB,MAfhB,EAeqC,QAfrC,EAe2D;AAAA;;AAChE,gBAAM,KAAqB,EAA3B;;AADgE,uCAGrD,KAHqD;AAI9D,oBAAM,eAAe,OAAO,KAAP,CAArB;AAEA,oBAAI,CAAC,MAAK,UAAL,CAAgB,KAAhB,CAAL,EAA6B;AAE7B;AAEA,oBAAM,SAAS,aAAa,OAAb,GAAuB,GAAvB,GAA8B,CAAC,aAAa,IAAb,GAAoB,GAApB,GAA0B,EAA3B,KAAkC,aAAa,OAAb,GAAuB,GAAvB,GAA6B,EAA/D,CAA7C;AACA,oBAAM,MAAM,SAAS,aAAa,KAAlC;AAEA,oBAAM,UAAwB,SAAxB,OAAwB,IAAI;AAChC,wBAAM,aAAyB,CAA/B;AACA,wBAAI,aAAa,MAAb,KAAwB,SAAxB,IAAsC,WAAW,OAAX,GAAqB,CAArB,IAA0B,WAAW,MAAX,KAAsB,aAAa,MAAvG,EAAgH;AAC9G,4BAAI,aAAa,OAAjB,EAA0B;AACxB,8BAAE,cAAF;AACD;AACD,4BAAI,aAAa,IAAjB,EAAuB;AACrB,8BAAE,eAAF;AACD;AACD,8BAAK,KAAL,CAAW,KAAX,EAAkB,SAAS,CAAT,CAAlB;AACD;AAED,2BAAO,aAAa,MAApB;AACD,iBAbD;AAeA,oBAAI,OAAO,EAAX,EAAe;AACb,wBAAI,MAAM,OAAN,CAAc,GAAG,GAAH,CAAd,CAAJ,EAA4B;AACzB,2BAAG,GAAH,EAA2B,IAA3B,CAAgC,OAAhC;AACF,qBAFD,MAEO;AACL,2BAAG,GAAH,IAAU,CAAC,GAAG,GAAH,CAAD,EAAU,OAAV,CAAV;AACD;AACF,iBAND,MAMO;AACL,uBAAG,GAAH,IAAU,OAAV;AACD;AApC6D;;AAGhE,iBAAK,IAAM,KAAX,IAAoB,MAApB,EAA4B;AAAA,iCAAjB,KAAiB;;AAAA,yCAGG;AA+B9B;AAED,mBAAO,EAAP;AACD;AAvDM;AAHe,CAAX,C","sourcesContent":["import Vue from 'vue'\r\n\r\nexport type MouseHandler = (e: MouseEvent | TouchEvent) => any\r\n\r\nexport type MouseEvents = {\r\n  [event: string]: {\r\n    event: string\r\n    passive?: boolean\r\n    capture?: boolean\r\n    once?: boolean\r\n    stop?: boolean\r\n    prevent?: boolean\r\n    button?: number\r\n    result?: any\r\n  }\r\n}\r\n\r\nexport type MouseEventsMap = {\r\n  [event: string]: MouseHandler | MouseHandler[]\r\n}\r\n\r\nexport default Vue.extend({\r\n  name: 'mouse',\r\n\r\n  methods: {\r\n    getDefaultMouseEventHandlers (suffix: string, getEvent: MouseHandler): MouseEventsMap {\r\n      return this.getMouseEventHandlers({\r\n        ['click' + suffix]: { event: 'click' },\r\n        ['contextmenu' + suffix]: { event: 'contextmenu', prevent: true, result: false },\r\n        ['mousedown' + suffix]: { event: 'mousedown' },\r\n        ['mousemove' + suffix]: { event: 'mousemove' },\r\n        ['mouseup' + suffix]: { event: 'mouseup' },\r\n        ['mouseenter' + suffix]: { event: 'mouseenter' },\r\n        ['mouseleave' + suffix]: { event: 'mouseleave' },\r\n        ['touchstart' + suffix]: { event: 'touchstart' },\r\n        ['touchmove' + suffix]: { event: 'touchmove' },\r\n        ['touchend' + suffix]: { event: 'touchend' }\r\n      }, getEvent)\r\n    },\r\n    getMouseEventHandlers (events: MouseEvents, getEvent: MouseHandler): MouseEventsMap {\r\n      const on: MouseEventsMap = {}\r\n\r\n      for (const event in events) {\r\n        const eventOptions = events[event]\r\n\r\n        if (!this.$listeners[event]) continue\r\n\r\n        // TODO somehow pull in modifiers\r\n\r\n        const prefix = eventOptions.passive ? '&' : ((eventOptions.once ? '~' : '') + (eventOptions.capture ? '!' : ''))\r\n        const key = prefix + eventOptions.event\r\n\r\n        const handler: MouseHandler = e => {\r\n          const mouseEvent: MouseEvent = e as MouseEvent\r\n          if (eventOptions.button === undefined || (mouseEvent.buttons > 0 && mouseEvent.button === eventOptions.button)) {\r\n            if (eventOptions.prevent) {\r\n              e.preventDefault()\r\n            }\r\n            if (eventOptions.stop) {\r\n              e.stopPropagation()\r\n            }\r\n            this.$emit(event, getEvent(e))\r\n          }\r\n\r\n          return eventOptions.result\r\n        }\r\n\r\n        if (key in on) {\r\n          if (Array.isArray(on[key])) {\r\n            (on[key] as MouseHandler[]).push(handler)\r\n          } else {\r\n            on[key] = [on[key], handler] as MouseHandler[]\r\n          }\r\n        } else {\r\n          on[key] = handler\r\n        }\r\n      }\r\n\r\n      return on\r\n    }\r\n  }\r\n})\r\n"],"sourceRoot":""}