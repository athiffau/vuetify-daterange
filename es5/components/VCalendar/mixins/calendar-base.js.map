{"version":3,"sources":["../../../../src/components/VCalendar/mixins/calendar-base.ts"],"names":[],"mappings":"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","sourcesContent":["\r\n// Mixins\r\nimport mixins from '../../../util/mixins'\r\nimport Themeable from '../../../mixins/themeable'\r\nimport Colorable from '../../../mixins/colorable'\r\nimport Times from './times'\r\nimport Mouse from './mouse'\r\n\r\n// Util\r\nimport props from '../util/props'\r\nimport {\r\n  VTimestamp,\r\n  VTimestampFormatter,\r\n  parseTimestamp,\r\n  copyTimestamp,\r\n  getWeekdaySkips,\r\n  findWeekday,\r\n  prevDay,\r\n  updateWeekday,\r\n  updateFormatted,\r\n  updateRelative,\r\n  daysInMonth,\r\n  createDayList,\r\n  createNativeLocaleFormatter,\r\n  DAY_MIN\r\n} from '../util/timestamp'\r\n\r\n/* @vue/component */\r\nexport default mixins(Colorable, Themeable, Times, Mouse).extend({\r\n  name: 'calendar-base',\r\n\r\n  props: props.base,\r\n\r\n  computed: {\r\n    weekdaySkips (): number[] {\r\n      return getWeekdaySkips(this.weekdays)\r\n    },\r\n    parsedStart (): VTimestamp {\r\n      return parseTimestamp(this.start) as VTimestamp\r\n    },\r\n    parsedEnd (): VTimestamp {\r\n      return parseTimestamp(this.end) as VTimestamp\r\n    },\r\n    days (): VTimestamp[] {\r\n      return createDayList(\r\n        this.parsedStart,\r\n        this.parsedEnd,\r\n        this.times.today,\r\n        this.weekdaySkips\r\n      )\r\n    },\r\n    dayFormatter (): VTimestampFormatter {\r\n      if (this.dayFormat) {\r\n        return this.dayFormat as VTimestampFormatter\r\n      }\r\n\r\n      const options = { timeZone: 'UTC', day: 'numeric' }\r\n\r\n      return createNativeLocaleFormatter(\r\n        this.locale,\r\n        (_tms, _short) => options\r\n      )\r\n    },\r\n    weekdayFormatter (): VTimestampFormatter {\r\n      if (this.weekdayFormat) {\r\n        return this.weekdayFormat as VTimestampFormatter\r\n      }\r\n\r\n      const longOptions = { timeZone: 'UTC', weekday: 'long' }\r\n      const shortOptions = { timeZone: 'UTC', weekday: 'short' }\r\n\r\n      return createNativeLocaleFormatter(\r\n        this.locale,\r\n        (_tms, short) => short ? shortOptions : longOptions\r\n      )\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    getRelativeClasses (timestamp: VTimestamp, outside = false): object {\r\n      return {\r\n        'v-present': timestamp.present,\r\n        'v-past': timestamp.past,\r\n        'v-future': timestamp.future,\r\n        'v-outside': outside\r\n      }\r\n    },\r\n    getStartOfWeek (timestamp: VTimestamp): VTimestamp {\r\n      const start = copyTimestamp(timestamp)\r\n      findWeekday(start, this.weekdays[0], prevDay)\r\n      updateFormatted(start)\r\n      updateRelative(start, this.times.today, start.hasTime)\r\n      return start\r\n    },\r\n    getEndOfWeek (timestamp: VTimestamp): VTimestamp {\r\n      const end = copyTimestamp(timestamp)\r\n      findWeekday(end, this.weekdays[this.weekdays.length - 1])\r\n      updateFormatted(end)\r\n      updateRelative(end, this.times.today, end.hasTime)\r\n      return end\r\n    },\r\n    getStartOfMonth (timestamp: VTimestamp): VTimestamp {\r\n      const start = copyTimestamp(timestamp)\r\n      start.day = DAY_MIN\r\n      updateWeekday(start)\r\n      updateFormatted(start)\r\n      return start\r\n    },\r\n    getEndOfMonth (timestamp: VTimestamp): VTimestamp {\r\n      const end = copyTimestamp(timestamp)\r\n      end.day = daysInMonth(end.year, end.month)\r\n      updateWeekday(end)\r\n      updateFormatted(end)\r\n      return end\r\n    }\r\n  }\r\n})\r\n"],"sourceRoot":""}