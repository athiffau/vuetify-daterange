{"version":3,"sources":["../../../../src/components/VCalendar/mixins/times.ts"],"names":[],"mappings":";;;;;;;;;;AAEA;;;;kBAOe,cAAI,MAAJ,CAAW;AACxB,UAAM,OADkB;AAGxB,WAAO;AACL,aAAK;AACH,kBAAM,MADH;AAEH,uBAAW;AAFR;AADA,KAHiB;AAUxB,UAAM;AAAA,eAAO;AACX,mBAAO;AACL,qBAAK,+BAAe,kBAAf,CADA;AAEL,uBAAO,+BAAe,YAAf;AAFF;AADI,SAAP;AAAA,KAVkB;AAiBxB,cAAU;AACR,iBADQ,uBACC;AACP,mBAAO,KAAK,GAAL,GAAW,+BAAe,KAAK,GAApB,CAAX,GAAsC,IAA7C;AACD;AAHO,KAjBc;AAuBxB,WAAO;AACL,mBAAW;AADN,KAvBiB;AA2BxB,WA3BwB,qBA2BjB;AACL,aAAK,WAAL;AACA,aAAK,UAAL;AACD,KA9BuB;;AAgCxB,aAAS;AACP,kBADO,wBACG;AACR,iBAAK,KAAL,CAAW,GAAX,CAAe,OAAf,GAAyB,KAAK,KAAL,CAAW,KAAX,CAAiB,OAAjB,GAA2B,IAApD;AACA,iBAAK,KAAL,CAAW,GAAX,CAAe,IAAf,GAAsB,KAAK,KAAL,CAAW,KAAX,CAAiB,IAAjB,GAAwB,KAA9C;AACA,iBAAK,KAAL,CAAW,GAAX,CAAe,MAAf,GAAwB,KAAK,KAAL,CAAW,KAAX,CAAiB,MAAjB,GAA0B,KAAlD;AACD,SALM;AAMP,mBANO,yBAMI;AACT,gBAAM,MAAkB,KAAK,SAAL,IAAkB,KAAK,MAAL,EAA1C;AACA,iBAAK,SAAL,CAAe,GAAf,EAAoB,KAAK,KAAL,CAAW,GAA/B;AACA,iBAAK,UAAL,CAAgB,GAAhB,EAAqB,KAAK,KAAL,CAAW,GAAhC;AACA,iBAAK,SAAL,CAAe,GAAf,EAAoB,KAAK,KAAL,CAAW,KAA/B;AACD,SAXM;AAYP,cAZO,oBAYD;AACJ,mBAAO,0BAAU,IAAI,IAAJ,EAAV,CAAP;AACD,SAdM;AAeP,iBAfO,qBAeI,GAfJ,EAeqB,MAfrB,EAeuC;AAC5C,gBAAI,IAAI,IAAJ,KAAa,OAAO,IAAxB,EAA8B;AAC5B,uBAAO,IAAP,GAAc,IAAI,IAAlB;AACA,uBAAO,KAAP,GAAe,IAAI,KAAnB;AACA,uBAAO,GAAP,GAAa,IAAI,GAAjB;AACA,uBAAO,OAAP,GAAiB,IAAI,OAArB;AACA,uBAAO,IAAP,GAAc,IAAI,IAAlB;AACD;AACF,SAvBM;AAwBP,kBAxBO,sBAwBK,GAxBL,EAwBsB,MAxBtB,EAwBwC;AAC7C,gBAAI,IAAI,IAAJ,KAAa,OAAO,IAAxB,EAA8B;AAC5B,uBAAO,IAAP,GAAc,IAAI,IAAlB;AACA,uBAAO,MAAP,GAAgB,IAAI,MAApB;AACA,uBAAO,IAAP,GAAc,IAAI,IAAlB;AACD;AACF;AA9BM;AAhCe,CAAX,C","sourcesContent":["import Vue from 'vue'\r\n\r\nimport {\r\n  VTimestamp,\r\n  validateTimestamp,\r\n  parseTimestamp,\r\n  parseDate\r\n} from '../util/timestamp'\r\n\r\nexport default Vue.extend({\r\n  name: 'times',\r\n\r\n  props: {\r\n    now: {\r\n      type: String,\r\n      validator: validateTimestamp\r\n    }\r\n  },\r\n\r\n  data: () => ({\r\n    times: {\r\n      now: parseTimestamp('0000-00-00 00:00') as VTimestamp,\r\n      today: parseTimestamp('0000-00-00') as VTimestamp\r\n    }\r\n  }),\r\n\r\n  computed: {\r\n    parsedNow (): VTimestamp | null {\r\n      return this.now ? parseTimestamp(this.now) : null\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    parsedNow: 'updateTimes'\r\n  },\r\n\r\n  created () {\r\n    this.updateTimes()\r\n    this.setPresent()\r\n  },\r\n\r\n  methods: {\r\n    setPresent (): void {\r\n      this.times.now.present = this.times.today.present = true\r\n      this.times.now.past = this.times.today.past = false\r\n      this.times.now.future = this.times.today.future = false\r\n    },\r\n    updateTimes (): void {\r\n      const now: VTimestamp = this.parsedNow || this.getNow()\r\n      this.updateDay(now, this.times.now)\r\n      this.updateTime(now, this.times.now)\r\n      this.updateDay(now, this.times.today)\r\n    },\r\n    getNow (): VTimestamp {\r\n      return parseDate(new Date())\r\n    },\r\n    updateDay (now: VTimestamp, target: VTimestamp): void {\r\n      if (now.date !== target.date) {\r\n        target.year = now.year\r\n        target.month = now.month\r\n        target.day = now.day\r\n        target.weekday = now.weekday\r\n        target.date = now.date\r\n      }\r\n    },\r\n    updateTime (now: VTimestamp, target: VTimestamp): void {\r\n      if (now.time !== target.time) {\r\n        target.hour = now.hour\r\n        target.minute = now.minute\r\n        target.time = now.time\r\n      }\r\n    }\r\n  }\r\n})\r\n"],"sourceRoot":""}