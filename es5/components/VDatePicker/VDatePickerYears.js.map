{"version":3,"sources":["../../../src/components/VDatePicker/VDatePickerYears.ts"],"names":[],"mappings":";;;;;;;;AAGA;;;;AAGA;;AACA;;;;;;AAFA;kBAae,sBAOb;AACF;AARe,EASb,MATa,CASN;AACP,UAAM,qBADC;AAGP,WAAO;AACL,gBAAQ,QADH;AAEL,gBAAQ;AACN,kBAAM,MADA;AAEN,qBAAS;AAFH,SAFH;AAML,aAAK,CAAC,MAAD,EAAS,MAAT,CANA;AAOL,aAAK,CAAC,MAAD,EAAS,MAAT,CAPA;AAQL,kBAAU,OARL;AASL,eAAO,CAAC,MAAD,EAAS,MAAT;AATF,KAHA;AAeP,QAfO,kBAeH;AACF,eAAO;AACL,0BAAc;AADT,SAAP;AAGD,KAnBM;;AAqBP,cAAU;AACR,iBADQ,uBACC;AACP,mBAAO,KAAK,MAAL,IAAe,uCAA4B,KAAK,MAAjC,EAAyC,EAAE,MAAM,SAAR,EAAmB,UAAU,KAA7B,EAAzC,EAA+E,EAAE,QAAQ,CAAV,EAA/E,CAAtB;AACD;AAHO,KArBH;AA2BP,WA3BO,qBA2BA;AACL,YAAM,aAAa,KAAK,GAAL,CAAS,sBAAT,CAAgC,QAAhC,EAA0C,CAA1C,CAAnB;AACA,YAAI,UAAJ,EAAgB;AACd,iBAAK,GAAL,CAAS,SAAT,GAAqB,WAAW,SAAX,GAAuB,KAAK,GAAL,CAAS,YAAT,GAAwB,CAA/C,GAAmD,WAAW,YAAX,GAA0B,CAAlG;AACD,SAFD,MAEO;AACL,iBAAK,GAAL,CAAS,SAAT,GAAqB,KAAK,GAAL,CAAS,YAAT,GAAwB,CAAxB,GAA4B,KAAK,GAAL,CAAS,YAAT,GAAwB,CAAzE;AACD;AACF,KAlCM;;AAoCP,aAAS;AACP,mBADO,uBACM,IADN,EACkB;AAAA;;AACvB,gBAAM,YAAY,KAAK,SAAL,MAAkB,IAAlB,CAAlB;AACA,gBAAM,SAAS,SAAS,KAAK,KAAd,EAAqB,EAArB,MAA6B,IAA5C;AACA,gBAAM,QAAQ,WAAW,KAAK,KAAL,IAAc,SAAzB,CAAd;AAEA,mBAAO,KAAK,cAAL,CAAoB,IAApB,EAA0B,KAAK,YAAL,CAAkB,KAAlB,EAAyB;AACxD,qBAAK,IADmD;AAExD,yBAAS,EAAE,cAAF,EAF+C;AAGxD,oBAAI;AACF,2BAAO;AAAA,+BAAM,MAAK,KAAL,CAAW,OAAX,EAAoB,IAApB,CAAN;AAAA;AADL;AAHoD,aAAzB,CAA1B,EAMH,SANG,CAAP;AAOD,SAbM;AAeP,oBAfO,0BAeK;AACV,gBAAM,WAAW,EAAjB;AACA,gBAAM,eAAe,KAAK,KAAL,GAAa,SAAS,KAAK,KAAd,EAAqB,EAArB,CAAb,GAAwC,IAAI,IAAJ,GAAW,WAAX,EAA7D;AACA,gBAAM,UAAU,KAAK,GAAL,GAAW,SAAS,KAAK,GAAd,EAAmB,EAAnB,CAAX,GAAqC,eAAe,GAApE;AACA,gBAAM,UAAU,KAAK,GAAL,CAAS,OAAT,EAAkB,KAAK,GAAL,GAAW,SAAS,KAAK,GAAd,EAAmB,EAAnB,CAAX,GAAqC,eAAe,GAAtE,CAAhB;AAEA,iBAAK,IAAI,OAAO,OAAhB,EAAyB,QAAQ,OAAjC,EAA0C,MAA1C,EAAkD;AAChD,yBAAS,IAAT,CAAc,KAAK,WAAL,CAAiB,IAAjB,CAAd;AACD;AAED,mBAAO,QAAP;AACD;AA1BM,KApCF;AAiEP,UAjEO,oBAiED;AACJ,eAAO,KAAK,cAAL,CAAoB,IAApB,EAA0B;AAC/B,yBAAa,qBADkB;AAE/B,iBAAK;AAF0B,SAA1B,EAGJ,KAAK,YAAL,EAHI,CAAP;AAID;AAtEM,CATM,C;AAhBf","sourcesContent":["import '../../stylus/components/_date-picker-years.styl'\r\n\r\n// Mixins\r\nimport Colorable from '../../mixins/colorable'\r\n\r\n// Utils\r\nimport { createNativeLocaleFormatter } from './util'\r\nimport mixins, { ExtractVue } from '../../util/mixins'\r\n\r\n// Types\r\nimport Vue, { VNode } from 'vue'\r\nimport { DatePickerFormatter } from './util/createNativeLocaleFormatter'\r\nimport { PropValidator } from 'vue/types/options'\r\n\r\ninterface options extends Vue {\r\n  $el: HTMLElement\r\n}\r\n\r\nexport default mixins<options &\r\n/* eslint-disable indent */\r\n  ExtractVue<[\r\n    typeof Colorable\r\n  ]>\r\n/* eslint-enable indent */\r\n>(\r\n  Colorable\r\n/* @vue/component */\r\n).extend({\r\n  name: 'v-date-picker-years',\r\n\r\n  props: {\r\n    format: Function as PropValidator<DatePickerFormatter | undefined>,\r\n    locale: {\r\n      type: String,\r\n      default: 'en-us'\r\n    },\r\n    min: [Number, String],\r\n    max: [Number, String],\r\n    readonly: Boolean,\r\n    value: [Number, String]\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      defaultColor: 'primary'\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    formatter (): DatePickerFormatter {\r\n      return this.format || createNativeLocaleFormatter(this.locale, { year: 'numeric', timeZone: 'UTC' }, { length: 4 })\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    const activeItem = this.$el.getElementsByClassName('active')[0]\r\n    if (activeItem) {\r\n      this.$el.scrollTop = activeItem.offsetTop - this.$el.offsetHeight / 2 + activeItem.offsetHeight / 2\r\n    } else {\r\n      this.$el.scrollTop = this.$el.scrollHeight / 2 - this.$el.offsetHeight / 2\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    genYearItem (year: number): VNode {\r\n      const formatted = this.formatter(`${year}`)\r\n      const active = parseInt(this.value, 10) === year\r\n      const color = active && (this.color || 'primary')\r\n\r\n      return this.$createElement('li', this.setTextColor(color, {\r\n        key: year,\r\n        'class': { active },\r\n        on: {\r\n          click: () => this.$emit('input', year)\r\n        }\r\n      }), formatted)\r\n    },\r\n\r\n    genYearItems (): VNode[] {\r\n      const children = []\r\n      const selectedYear = this.value ? parseInt(this.value, 10) : new Date().getFullYear()\r\n      const maxYear = this.max ? parseInt(this.max, 10) : (selectedYear + 100)\r\n      const minYear = Math.min(maxYear, this.min ? parseInt(this.min, 10) : (selectedYear - 100))\r\n\r\n      for (let year = maxYear; year >= minYear; year--) {\r\n        children.push(this.genYearItem(year))\r\n      }\r\n\r\n      return children\r\n    }\r\n  },\r\n\r\n  render (): VNode {\r\n    return this.$createElement('ul', {\r\n      staticClass: 'v-date-picker-years',\r\n      ref: 'years'\r\n    }, this.genYearItems())\r\n  }\r\n})\r\n"],"sourceRoot":""}