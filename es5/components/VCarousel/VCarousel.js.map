{"version":3,"sources":["../../../src/components/VCarousel/VCarousel.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\r\nimport '../../stylus/components/_carousel.styl'\r\n\r\n// Extensions\r\nimport VWindow from '../VWindow/VWindow'\r\n\r\n// Components\r\nimport VBtn from '../VBtn'\r\nimport VIcon from '../VIcon'\r\n\r\n// Mixins\r\n// TODO: Move this into core components v2.0\r\nimport ButtonGroup from '../../mixins/button-group'\r\n\r\n// Utilities\r\nimport { convertToUnit } from '../../util/helpers'\r\nimport { deprecate } from '../../util/console'\r\n\r\n// Types\r\nimport { VNode } from 'vue'\r\nimport { VNodeDirective } from 'vue/types/vnode'\r\n\r\nexport default VWindow.extend({\r\n  name: 'v-carousel',\r\n\r\n  props: {\r\n    cycle: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    delimiterIcon: {\r\n      type: String,\r\n      default: '$vuetify.icons.delimiter'\r\n    },\r\n    height: {\r\n      type: [Number, String],\r\n      default: 500\r\n    },\r\n    hideControls: Boolean,\r\n    hideDelimiters: Boolean,\r\n    interval: {\r\n      type: [Number, String],\r\n      default: 6000,\r\n      validator: (value: string | number) => value > 0\r\n    },\r\n    mandatory: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    nextIcon: {\r\n      type: [Boolean, String],\r\n      default: '$vuetify.icons.next'\r\n    },\r\n    prevIcon: {\r\n      type: [Boolean, String],\r\n      default: '$vuetify.icons.prev'\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      changedByControls: false,\r\n      internalHeight: this.height,\r\n      slideTimeout: undefined as number | undefined\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    isDark (): boolean {\r\n      return this.dark || !this.light\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    internalValue (val) {\r\n      this.restartTimeout()\r\n      /* @deprecate */\r\n      /* istanbul ignore else */\r\n      if (!this.$listeners['input']) return\r\n\r\n      this.$emit('input', val)\r\n    },\r\n    interval: 'restartTimeout',\r\n    height (val, oldVal) {\r\n      if (val === oldVal || !val) return\r\n      this.internalHeight = val\r\n    },\r\n    cycle (val) {\r\n      if (val) {\r\n        this.restartTimeout()\r\n      } else {\r\n        clearTimeout(this.slideTimeout)\r\n        this.slideTimeout = undefined\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    /* @deprecate */\r\n    /* istanbul ignore next */\r\n    if (this.$listeners['input']) {\r\n      deprecate('@input', '@change', this)\r\n    }\r\n    this.startTimeout()\r\n  },\r\n\r\n  methods: {\r\n    genDelimiters (): VNode {\r\n      return this.$createElement('div', {\r\n        staticClass: 'v-carousel__controls'\r\n      }, [this.genItems()])\r\n    },\r\n    genIcon (\r\n      direction: 'prev' | 'next',\r\n      icon: string,\r\n      fn: () => void\r\n    ): VNode {\r\n      return this.$createElement('div', {\r\n        staticClass: `v-carousel__${direction}`\r\n      }, [\r\n        this.$createElement(VBtn, {\r\n          props: {\r\n            icon: true\r\n          },\r\n          on: { click: fn }\r\n        }, [\r\n          this.$createElement(VIcon, {\r\n            props: { 'size': '46px' }\r\n          }, icon)\r\n        ])\r\n      ])\r\n    },\r\n    genIcons (): VNode[] {\r\n      const icons = []\r\n\r\n      const prevIcon = this.$vuetify.rtl\r\n        ? this.nextIcon\r\n        : this.prevIcon\r\n\r\n      if (prevIcon && typeof prevIcon === 'string') {\r\n        icons.push(this.genIcon('prev', prevIcon, this.prev))\r\n      }\r\n\r\n      const nextIcon = this.$vuetify.rtl\r\n        ? this.prevIcon\r\n        : this.nextIcon\r\n\r\n      if (nextIcon && typeof nextIcon === 'string') {\r\n        icons.push(this.genIcon('next', nextIcon, this.next))\r\n      }\r\n\r\n      return icons\r\n    },\r\n    genItems (): VNode {\r\n      const length = this.items.length\r\n      const children = []\r\n\r\n      for (let i = 0; i < length; i++) {\r\n        const child = this.$createElement(VBtn, {\r\n          class: {\r\n            'v-carousel__controls__item': true\r\n          },\r\n          props: {\r\n            icon: true,\r\n            small: true,\r\n            value: this.getValue(this.items[i], i)\r\n          }\r\n        }, [\r\n          this.$createElement(VIcon, {\r\n            props: { size: 18 }\r\n          }, this.delimiterIcon)\r\n        ])\r\n\r\n        children.push(child)\r\n      }\r\n\r\n      return this.$createElement(ButtonGroup, {\r\n        props: {\r\n          value: this.internalValue\r\n        },\r\n        on: {\r\n          change: (val: any) => {\r\n            this.changedByControls = true\r\n            this.internalValue = val\r\n          }\r\n        }\r\n      }, children)\r\n    },\r\n    restartTimeout () {\r\n      this.slideTimeout && clearTimeout(this.slideTimeout)\r\n      this.slideTimeout = undefined\r\n\r\n      const raf = requestAnimationFrame || setTimeout\r\n      raf(this.startTimeout)\r\n    },\r\n    startTimeout () {\r\n      if (!this.cycle) return\r\n\r\n      this.slideTimeout = window.setTimeout(this.next, +this.interval > 0 ? +this.interval : 6000)\r\n    },\r\n    updateReverse (val: number, oldVal: number) {\r\n      if (this.changedByControls) {\r\n        this.changedByControls = false\r\n\r\n        VWindow.options.methods.updateReverse.call(this, val, oldVal)\r\n      }\r\n    }\r\n  },\r\n\r\n  render (h): VNode {\r\n    const children = []\r\n    const data = {\r\n      staticClass: 'v-window v-carousel',\r\n      style: {\r\n        height: convertToUnit(this.height)\r\n      },\r\n      directives: [] as VNodeDirective[]\r\n    }\r\n\r\n    if (!this.touchless) {\r\n      data.directives.push({\r\n        name: 'touch',\r\n        value: {\r\n          left: this.next,\r\n          right: this.prev\r\n        }\r\n      } as VNodeDirective)\r\n    }\r\n\r\n    if (!this.hideControls) {\r\n      children.push(this.genIcons())\r\n    }\r\n\r\n    if (!this.hideDelimiters) {\r\n      children.push(this.genDelimiters())\r\n    }\r\n\r\n    return h('div', data, [this.genContainer(), children])\r\n  }\r\n})\r\n"],"sourceRoot":""}